{"version":3,"file":"main.nodejs.js","mappings":"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","sources":["../node_modules/@scrypted/sdk/dist/src/index.js","../node_modules/@scrypted/sdk/dist/src/settings-mixin.js","../node_modules/@scrypted/sdk/dist/src/storage-settings.js","../node_modules/@scrypted/sdk/dist/types/gen/index.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_root.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/eq.js","../node_modules/lodash/get.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/keyBy.js","../node_modules/lodash/keys.js","../node_modules/lodash/memoize.js","../node_modules/lodash/property.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/toString.js","../../scrypted-advanced-notifier/src/detecionClasses.ts","../../scrypted-events-recorder/src/util.ts","../src/cameraMixin.ts","../src/client.ts","../src/main.ts","../src/utils.ts","../../scrypted/common/src/http-auth-fetch.ts","../../scrypted/packages/auth-fetch/src/auth-fetch.ts","../../scrypted/plugins/reolink/src/probe.ts","../../scrypted/server/src/fetch/http-fetch.ts","../../scrypted/server/src/fetch/index.ts","../../scrypted/server/node_modules/debug/src/browser.js","../../scrypted/server/node_modules/debug/src/common.js","../../scrypted/server/node_modules/debug/src/index.js","../../scrypted/server/node_modules/debug/src/node.js","../../scrypted/server/node_modules/follow-redirects/debug.js","../../scrypted/server/node_modules/follow-redirects/index.js","../../scrypted/server/node_modules/ms/index.js","../external node-commonjs \"assert\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"os\"","../../scrypted/packages/auth-fetch/node_modules/yerror/dist/index.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/utils.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/basic.js","../external node-commonjs \"crypto\"","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/digest.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/bearer.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    if (process.env.SCRYPTED_SDK_MODULE) {\n        try {\n            // @ts-expect-error\n            if (typeof import.meta !== 'undefined') {\n                // @ts-expect-error\n                const require = (0, module_1.createRequire)(import.meta.url);\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n        catch (e) {\n            console.warn(\"failed to load sdk module\", e);\n        }\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsMixinDeviceBase = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { deviceManager } = _1.default;\nclass SettingsMixinDeviceBase extends _1.MixinDeviceBase {\n    constructor(options) {\n        super(options);\n        this.settingsGroup = options.group;\n        this.settingsGroupKey = options.groupKey;\n        process.nextTick(() => deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null));\n    }\n    async getSettings() {\n        const settingsPromise = this.mixinDeviceInterfaces.includes(_1.ScryptedInterface.Settings) ? this.mixinDevice.getSettings() : undefined;\n        const mixinSettingsPromise = this.getMixinSettings();\n        const allSettings = [];\n        try {\n            const settings = (await settingsPromise) || [];\n            allSettings.push(...settings);\n        }\n        catch (e) {\n            const name = this.name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        try {\n            const mixinSettings = (await mixinSettingsPromise) || [];\n            for (const setting of mixinSettings) {\n                setting.group = setting.group || this.settingsGroup;\n                setting.key = this.settingsGroupKey + ':' + setting.key;\n            }\n            allSettings.push(...mixinSettings);\n        }\n        catch (e) {\n            const name = deviceManager.getDeviceState(this.mixinProviderNativeId).name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        return allSettings;\n    }\n    async putSetting(key, value) {\n        const prefix = this.settingsGroupKey + ':';\n        if (!key?.startsWith(prefix)) {\n            return this.mixinDevice.putSetting(key, value);\n        }\n        if (!await this.putMixinSetting(key.substring(prefix.length), value))\n            deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n    async release() {\n        await deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n}\nexports.SettingsMixinDeviceBase = SettingsMixinDeviceBase;\n//# sourceMappingURL=settings-mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.91\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","export enum DetectionClass {\n    Motion = 'motion',\n    Person = 'person',\n    Vehicle = 'vehicle',\n    Animal = 'animal',\n    Face = 'face',\n    Plate = 'plate',\n    Package = 'package',\n    DoorSensor = 'sensor_open',\n    DoorLock = 'lock_open',\n}\n\nexport const classnamePrio: Partial<Record<DetectionClass, number>> = {\n    [DetectionClass.Face]: 1,\n    [DetectionClass.Plate]: 1,\n    [DetectionClass.Person]: 2,\n    [DetectionClass.Vehicle]: 3,\n    [DetectionClass.Animal]: 4,\n    [DetectionClass.Package]: 5,\n    [DetectionClass.Motion]: 6,\n}\n\nexport const defaultDetectionClasses = Object.values(DetectionClass);\n\nexport const animalClasses = [\n    // General\n    DetectionClass.Animal,\n\n    // Camera specific\n    'dog_cat',\n\n    // Mammals\n    'dog',\n    'cat',\n    'horse',\n    'sheep',\n    'cow',\n    'elephant',\n    'bear',\n    'zebra',\n    'giraffe',\n    'mouse',\n    'rabbit',\n    'deer',\n    'lion',\n    'tiger',\n\n    // Birds\n    'bird',\n    'eagle',\n    'owl',\n    'pigeon',\n\n    // Marine Animals\n    'fish',\n    'whale',\n    'dolphin',\n\n    // Reptiles/Amphibians\n    'snake',\n    'turtle',\n    'lizard'\n];\n\nexport const personClasses = [\n    // General\n    DetectionClass.Person,\n\n    // Camera specific\n    'people',\n\n    // Activities\n    'pedestrian',\n    'rider',\n    'driver',\n    'cyclist',\n    'skier',\n    'skateboarder',\n\n    // Body Parts\n    'face',\n    'hand',\n    'head',\n    'body'\n];\n\nexport const vehicleClasses = [\n    // General\n    DetectionClass.Vehicle,\n\n    // Road Vehicles\n    'car',\n    'truck',\n    'bus',\n    'motorcycle',\n    'bicycle',\n    'van',\n\n    // Special Vehicles\n    'ambulance',\n    'police_car',\n    'fire_truck',\n\n    // Public Transportation\n    'train',\n    'subway',\n    'tram',\n\n    // Others\n    'airplane',\n    'boat',\n    'ship',\n    'helicopter'\n];\n\nexport const faceClasses = [\n    DetectionClass.Face,\n\n    // Main Face Components\n    'eyes',\n    'nose',\n    'mouth',\n    'ears',\n    'eyebrows',\n\n    // Detailed Eye Features\n    'left_eye',\n    'right_eye',\n    'pupil',\n    'iris',\n    'eyelid',\n    'eye_corner',\n\n    // Detailed Mouth Features\n    'upper_lip',\n    'lower_lip',\n    'teeth',\n\n    // Other Facial Features\n    'chin',\n    'cheek',\n    'forehead',\n    'jaw',\n\n    // Facial Accessories\n    'glasses',\n    'sunglasses',\n    'facial_hair',\n    'beard',\n    'mustache',\n\n    // Facial Landmarks\n    'facial_landmark',\n    'facial_keypoint'\n];\n\nexport const licensePlateClasses = [\n    DetectionClass.Plate,\n\n    // Plate Types\n    'license_plate',\n    'front_plate',\n    'rear_plate',\n    'motorcycle_plate',\n    'temporary_plate',\n    'dealer_plate',\n\n    // Plate Components\n    'plate_number',\n    'plate_character',\n    'plate_digit',\n    'plate_letter',\n    'plate_symbol',\n    'plate_region',\n    'plate_country_identifier',\n\n    // Plate Features\n    'plate_frame',\n    'plate_bolt',\n    'plate_sticker',\n    'plate_validation_tag',\n\n    // Plate Conditions\n    'damaged_plate',\n    'obscured_plate',\n    'dirty_plate'\n];\n\nexport const motionClasses = [\n    DetectionClass.Motion,\n    'movement',\n\n    // Reolink battery cams\n    'other',\n]\n\nexport const packageClasses = [\n    DetectionClass.Package,\n    'packet',\n]\n\nexport const isFaceClassname = (classname: string) => faceClasses.includes(classname);\nexport const isPlateClassname = (classname: string) => licensePlateClasses.includes(classname);\nexport const isAnimalClassname = (classname: string) => animalClasses.includes(classname);\nexport const isPersonClassname = (classname: string) => personClasses.includes(classname);\nexport const isVehicleClassname = (classname: string) => vehicleClasses.includes(classname);\nexport const isMotionClassname = (classname: string) => motionClasses.includes(classname);\nexport const isPackageClassname = (classname: string) => packageClasses.includes(classname);\nexport const isLabelDetection = (classname: string) => isFaceClassname(classname) || isPlateClassname(classname);\n\nexport const detectionClassesDefaultMap: Record<string, DetectionClass> = {\n    ...animalClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Animal }), {}),\n    ...personClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Person }), {}),\n    ...vehicleClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Vehicle }), {}),\n    ...motionClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Motion }), {}),\n    ...packageClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Package }), {}),\n    ...faceClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Face }), {}),\n    ...licensePlateClasses.reduce((tot, curr) => ({ ...tot, [curr]: DetectionClass.Plate }), {}),\n}\n\nexport const parentDetectionClassMap: Partial<Record<DetectionClass, DetectionClass>> = {\n    [DetectionClass.Face]: DetectionClass.Person,\n    [DetectionClass.Plate]: DetectionClass.Vehicle,\n}","import { ChildProcessWithoutNullStreams } from \"child_process\";\nimport { DetectionClass } from \"../../scrypted-advanced-notifier/src/detecionClasses\";\nimport { Camera, ScryptedDevice, ScryptedDeviceBase, Settings, VideoCamera } from \"@scrypted/sdk\";\nimport fs from 'fs';\nimport path from 'path';\n\nexport type DeviceType = VideoCamera & Camera & Settings & ScryptedDeviceBase & ScryptedDevice;\n\nexport const detectionClassIndex = {\n    [DetectionClass.Motion]: 0,\n    [DetectionClass.Person]: 1,\n    [DetectionClass.Vehicle]: 2,\n    [DetectionClass.Animal]: 3,\n    [DetectionClass.Face]: 4,\n    [DetectionClass.Plate]: 5,\n    [DetectionClass.Package]: 6,\n}\nexport const detectionClassIndexReversed = Object.entries(detectionClassIndex)\n    .reduce((tot, [detectionClass, index]) => ({ ...tot, [index]: detectionClass }), {});\n\nexport const defaultClasses = [\n    DetectionClass.Person,\n    DetectionClass.Vehicle,\n    DetectionClass.Animal,\n    DetectionClass.Face,\n    DetectionClass.Plate,\n    DetectionClass.Package,\n]\n\nexport const getMainDetectionClass = (detectionClasses: DetectionClass[]) => {\n    if (detectionClasses.includes(DetectionClass.Face)) {\n        return DetectionClass.Face;\n    }\n    if (detectionClasses.includes(DetectionClass.Plate)) {\n        return DetectionClass.Plate;\n    }\n    if (detectionClasses.includes(DetectionClass.Package)) {\n        return DetectionClass.Package;\n    }\n    if (detectionClasses.includes(DetectionClass.Person)) {\n        return DetectionClass.Person;\n    }\n    if (detectionClasses.includes(DetectionClass.Animal)) {\n        return DetectionClass.Animal;\n    }\n    if (detectionClasses.includes(DetectionClass.Vehicle)) {\n        return DetectionClass.Vehicle;\n    }\n    if (detectionClasses.includes(DetectionClass.Motion)) {\n        return DetectionClass.Motion;\n    }\n}\n\nexport interface VideoclipFileData {\n    filename: string;\n    videoClipPath: string;\n    thumbnailPath: string;\n    startTime: number;\n    endTime: number;\n    size: number;\n    detectionClasses: DetectionClass[];\n}\n\nexport const cleanupMemoryThresholderInGb = 10;\nexport const clipsToCleanup = 10;\nexport const videoClipRegex = new RegExp('(.*)_(.*)_(.*).mp4');\n\nexport const attachProcessEvents = (props: {\n    logger: Console,\n    processName: string,\n    childProcess: ChildProcessWithoutNullStreams,\n    onClose?: () => Promise<void>\n}) => {\n    const { processName, childProcess, onClose, logger } = props;\n\n    childProcess.stdout.on('data', (data) => {\n        logger.debug(`${processName} stdout: ${data.toString()}`);\n    });\n\n    childProcess.stderr.on('data', (data) => {\n        logger.debug(`${processName} stderr: ${data.toString()}`);\n    });\n\n    childProcess.on('close', async (data) => {\n        logger.log(`Process ${processName} closed: ${data}`);\n        onClose && (onClose().catch(logger.log));\n    });\n}\n\nexport const getVideoClipName = (props: {\n    startTime: number,\n    endTime: number,\n    logger: Console,\n    classesDetected: string[]\n}) => {\n    const { startTime, classesDetected, endTime, logger } = props;\n    const detectionsHashComponents = new Array(10).fill(0);\n    Object.entries(detectionClassIndex).forEach(([detectionClass, index]) => {\n        if (classesDetected.includes(detectionClass) || detectionClass === DetectionClass.Motion) {\n            detectionsHashComponents[index] = 1;\n        }\n    });\n    const detectionsHash = detectionsHashComponents.join('');\n    const filename = `${startTime}_${endTime}_${detectionsHash}`;\n\n    logger.log(`Filename calculated: ${JSON.stringify({\n        filename,\n        detectionsHashComponents,\n        classesDetected,\n        allClasses: Object.entries(detectionClassIndex),\n        detectionsHash\n    })}`)\n\n    return filename;\n}\n\nexport const calculateSize = async (props: {\n    currentPath: string,\n    filenamePrefix?: string,\n    maxSpaceInGb?: number,\n}) => {\n    const { currentPath, filenamePrefix, maxSpaceInGb } = props;\n    let occupiedSizeInBytes = 0;\n\n    const calculateSizeInner = async (innerPath: string) => {\n        const entries = await fs.promises.readdir(innerPath, { withFileTypes: true });\n        const filteredFiles = filenamePrefix ? entries.filter(entry => entry.name.startsWith(filenamePrefix)) : entries;\n\n        for (const entry of filteredFiles) {\n            const fullPath = path.join(innerPath, entry.name);\n            if (entry.isDirectory()) {\n                await calculateSizeInner(fullPath);\n            } else if (entry.isFile()) {\n                const stats = await fs.promises.stat(fullPath);\n                occupiedSizeInBytes += stats.size;\n            }\n        }\n    }\n\n    await calculateSizeInner(currentPath);\n\n    console.log(occupiedSizeInBytes);\n    const occupiedSpaceInGbNumber = (occupiedSizeInBytes / (1024 * 1024 * 1024));\n    const occupiedSpaceInGb = occupiedSpaceInGbNumber.toFixed(2);\n    const freeMemory = maxSpaceInGb - occupiedSpaceInGbNumber;\n\n    return {\n        occupiedSizeInBytes,\n        occupiedSpaceInGbNumber,\n        occupiedSpaceInGb,\n        freeMemory,\n    };\n}\n\n// export const freeMemory = async (props: {\n//     logger: Console,\n//     filenamePrefix?: string,\n//     currentPath: string,\n// }) => {\n//     const { logger, filenamePrefix, currentPath } = props;\n\n//     const files = await fs.promises.readdir(currentPath);\n\n//     const fileDetails = files\n//         .map((file) => {\n//             const match = file.match(videoClipRegex);\n//             if (match) {\n//                 const timeStart = match[1];\n//                 const { videoClipPath } = this.getStorageDirs(file);\n//                 return { file, fullPath: videoClipPath, timeStart: Number(timeStart) };\n//             }\n//             return null;\n//         })\n//         .filter(Boolean);\n\n//     fileDetails.sort((a, b) => a.timeStart - b.timeStart);\n\n//     const filesToDelete = Math.min(fileDetails.length, clipsToCleanup);\n\n//     logger.log(`Deleting ${filesToDelete} oldest files... ${JSON.stringify({ freeMemory, cleanupMemoryThresholderInGb })}`);\n\n//     for (let i = 0; i < filesToDelete; i++) {\n//         const { fullPath, file } = fileDetails[i];\n//         await fs.promises.rm(fullPath, { force: true, recursive: true, maxRetries: 10 });\n//         logger.log(`Deleted videoclip: ${file}`);\n//         const { thumbnailPath } = this.getStorageDirs(file);\n//         await fs.promises.rm(thumbnailPath, { force: true, recursive: true, maxRetries: 10 });\n//         logger.log(`Deleted thumbnail: ${thumbnailPath}`);\n//     }\n// }","import sdk, { VideoClips, VideoClipOptions, VideoClip, MediaObject, VideoClipThumbnailOptions, Setting, Settings, RecordedEvent } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport keyBy from \"lodash/keyBy\";\nimport { ReolinkCameraClient, VideoSearchType, VideoSearchTime, VideoSearchResult } from \"./client\";\nimport ReolinkVideoclipssProvider from \"./main\";\nimport { getThumbnailMediaObject, getFolderPaths, parseVideoclipName, splitDateRangeByDay } from \"./utils\";\nimport fs from 'fs';\nimport path from 'path';\nimport { cleanupMemoryThresholderInGb, calculateSize } from '../../scrypted-events-recorder/src/util';\n\nconst { endpointManager } = sdk;\n\ninterface VideoclipFileData {\n    filename: string;\n    fullPath: string;\n    time: VideoSearchTime;\n    type: 'video' | 'image';\n    size: number;\n}\n\nconst videoclippathRegex = new RegExp('(.*)([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})(.*)');\n\nexport default class ReolinkVideoclipssMixin extends SettingsMixinDeviceBase<any> implements Settings, VideoClips {\n    client: ReolinkCameraClient;\n    killed: boolean;\n    ftpScanTimeout: NodeJS.Timeout;\n    ftpScanData: VideoclipFileData[] = [];\n    logger: Console;\n    lastScanFs: number;\n\n    storageSettings = new StorageSettings(this, {\n        username: {\n            title: 'Username',\n            type: 'string',\n        },\n        password: {\n            title: 'Password',\n            type: 'password',\n        },\n        debug: {\n            title: 'Log debug messages',\n            type: 'boolean',\n            defaultValue: false,\n            immediate: true,\n        },\n        ftp: {\n            title: 'Fetch from FTP folder',\n            type: 'boolean',\n            immediate: true,\n            onPut: async () => this.checkFtpScan()\n        },\n        ftpFolder: {\n            title: 'FTP folder',\n            description: 'FTP folder where reolink stores the clips',\n            type: 'string',\n            onPut: async () => this.checkFtpScan()\n        },\n        filenamePrefix: {\n            title: 'Filename prefix',\n            description: 'This should contain any text of the clip names outside of the date numbers. I.e. Videocamera dispensa_00_20250105123640.mp4 -> Videocamera dispensa_00_',\n            type: 'string',\n            onPut: async () => this.checkFtpScan()\n        },\n        maxSpaceInGb: {\n            title: 'Dedicated memory in GB',\n            type: 'number',\n            defaultValue: 20,\n            onPut: async (_, newValue) => await this.scanFs(newValue)\n        },\n        occupiedSpaceInGb: {\n            title: 'Memory occupancy in GB',\n            type: 'number',\n            range: [0, 20],\n            readonly: true,\n            placeholder: 'GB'\n        },\n    });\n\n    constructor(options: SettingsMixinDeviceOptions<any>, private plugin: ReolinkVideoclipssProvider) {\n        super(options);\n\n        const logger = this.getLogger();\n\n        this.plugin.mixinsMap[this.id] = this;\n        this.checkFtpScan().catch(logger.log);\n    }\n\n    public getLogger() {\n        const deviceConsole = this.console;\n\n        if (!this.logger) {\n            const log = (debug: boolean, message?: any, ...optionalParams: any[]) => {\n                const now = new Date().toLocaleString();\n                if (!debug || this.storageSettings.getItem('debug')) {\n                    deviceConsole.log(` ${now} - `, message, ...optionalParams);\n                }\n            };\n            this.logger = {\n                log: (message?: any, ...optionalParams: any[]) => log(false, message, ...optionalParams),\n                error: (message?: any, ...optionalParams: any[]) => log(false, message, ...optionalParams),\n                debug: (message?: any, ...optionalParams: any[]) => log(true, message, ...optionalParams),\n            } as Console\n        }\n\n        return this.logger;\n    }\n\n    async release() {\n        this.killed = true;\n    }\n\n    async checkFtpScan() {\n        const { ftp, ftpFolder } = this.storageSettings.values;\n        if (ftp && ftpFolder) {\n            await this.startFtpScan();\n        } else {\n            this.stopFtpScan();\n        }\n    }\n\n    stopFtpScan() {\n        if (this.ftpScanTimeout) {\n            clearInterval(this.ftpScanTimeout);\n        }\n\n        this.ftpScanTimeout = undefined;\n    }\n\n    async startFtpScan() {\n        const logger = this.getLogger();\n        const { ftpFolder, filenamePrefix } = this.storageSettings.values;\n        this.stopFtpScan();\n\n        const searchFile = async (dir: string, currentResult: VideoclipFileData[] = []) => {\n            const result: VideoclipFileData[] = [...currentResult];\n            const files = await fs.promises.readdir(dir) || [];\n\n            const filteredFiles = files.filter(file =>\n                (filenamePrefix ? file.startsWith(filenamePrefix) : true) &&\n                file.endsWith('mp4')\n            );\n            logger.debug(`Files found: ${JSON.stringify({ files, filteredFiles })}`);\n\n            for (const file of filteredFiles) {\n                const fullPath = path.join(dir, file);\n\n                const fileStat = fs.statSync(fullPath);\n\n                if (fileStat.isDirectory()) {\n                    result.push(...(await searchFile(fullPath, result)));\n                } else {\n                    let timestamp = file;\n\n                    if (filenamePrefix) {\n                        const splitted = file.split(filenamePrefix);\n                        timestamp = splitted[1];\n                    }\n                    logger.debug(`Parsing filename: ${JSON.stringify({\n                        file,\n                        timestamp,\n                        videoclippathRegex\n                    })}`);\n\n                    try {\n                        const regexResult = videoclippathRegex.exec(timestamp);\n                        if (regexResult) {\n                            const [__, ___, year, mon, day, hour, min, sec] = regexResult;\n\n                            result.push({\n                                filename: file,\n                                fullPath,\n                                time: {\n                                    day: Number(day),\n                                    hour: Number(hour),\n                                    min: Number(min),\n                                    mon: Number(mon),\n                                    sec: Number(sec),\n                                    year: Number(year),\n                                },\n                                type: file.endsWith('mp4') ? 'video' : 'image',\n                                size: fileStat.size\n                            });\n                        }\n                    } catch (e) {\n                        logger.log(`Error parsing file ${file} in path ${dir}`);\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        this.ftpScanTimeout = setInterval(async () => {\n            try {\n                const now = Date.now();\n\n                this.ftpScanData = await searchFile(ftpFolder);\n\n                // Every 1 hour\n                if (!this.lastScanFs || (now - this.lastScanFs) > (1000 * 60 * 60)) {\n                    await this.scanFs();\n                }\n            }\n            catch (e) {\n                logger.log('Error in scanning the ftp folder', e);\n            }\n        }, 1000 * 10);\n\n        await this.scanFs();\n        this.ftpScanData = await searchFile(ftpFolder);\n    }\n\n    async scanFs(newMaxMemory?: number) {\n        const logger = this.getLogger();\n        logger.log(`Starting FS scan: ${JSON.stringify({ newMaxMemory })}`);\n\n        const { ftpFolder, filenamePrefix } = this.storageSettings.values;\n        const { maxSpaceInGb: maxSpaceInGbSrc } = this.storageSettings.values;\n        const maxSpaceInGb = newMaxMemory ?? maxSpaceInGbSrc;\n\n        const { occupiedSpaceInGb, occupiedSpaceInGbNumber, freeMemory } = await calculateSize({\n            currentPath: ftpFolder,\n            filenamePrefix,\n            maxSpaceInGb\n        });\n        this.storageSettings.settings.occupiedSpaceInGb.range = [0, maxSpaceInGb]\n        this.putMixinSetting('occupiedSpaceInGb', occupiedSpaceInGb);\n        logger.debug(`Occupied space: ${occupiedSpaceInGb} GB`);\n\n        // if (freeMemory <= cleanupMemoryThresholderInGb) {\n        //     const files = await fs.promises.readdir(ftpFolder);\n\n        //     const fileDetails = files\n        //         .map((file) => {\n        //             const match = filenamePrefix ? file.startsWith(filenamePrefix) : true;\n        //             if (match) {\n        //                 let timestamp = file;\n\n        //                 if (filenamePrefix) {\n        //                     const splitted = file.split(filenamePrefix);\n        //                     timestamp = splitted[1];\n        //                 }\n\n        //                 const regexResult = videoclippathRegex.exec(timestamp);\n        //                 if (regexResult) {\n        //                     const [__, ___, year, mon, day, hour, min, sec] = regexResult;\n        //                     const time: VideoSearchTime = {\n        //                         day: Number(day),\n        //                         hour: Number(hour),\n        //                         min: Number(min),\n        //                         mon: Number(mon),\n        //                         sec: Number(sec),\n        //                         year: Number(year),\n        //                     }\n        //                     const timestampParsed = this.processDate(time);\n\n        //                     const { videoClipPath } = this.getStorageDirs(file);\n        //                     return { file, fullPath: videoClipPath, timeStart: Number(timeStart) };\n        //                 }\n        //             }\n        //             return null;\n        //         })\n        //         .filter(Boolean);\n\n        //     fileDetails.sort((a, b) => a.timeStart - b.timeStart);\n\n        //     const filesToDelete = Math.min(fileDetails.length, clipsToCleanup);\n\n        //     logger.log(`Deleting ${filesToDelete} oldest files... ${JSON.stringify({ freeMemory, cleanupMemoryThresholderInGb })}`);\n\n        //     for (let i = 0; i < filesToDelete; i++) {\n        //         const { fullPath, file } = fileDetails[i];\n        //         await fs.promises.rm(fullPath, { force: true, recursive: true, maxRetries: 10 });\n        //         logger.log(`Deleted videoclip: ${file}`);\n        //         const { thumbnailPath } = this.getStorageDirs(file);\n        //         await fs.promises.rm(thumbnailPath, { force: true, recursive: true, maxRetries: 10 });\n        //         logger.log(`Deleted thumbnail: ${thumbnailPath}`);\n        //     }\n        // }\n\n        this.lastScanFs = Date.now();\n        logger.log(`FS scan executed: ${JSON.stringify({\n            freeMemory,\n            occupiedSpaceInGbNumber,\n            maxSpaceInGb,\n            cleanupMemoryThresholderInGb\n        })}`);\n    }\n\n    async getDeviceProperties() {\n        const deviceSettings = await this.mixinDevice.getSettings();\n\n        const deviceSettingsMap = keyBy(deviceSettings, setting => setting.key);\n        const username = deviceSettingsMap['username']?.value;\n        const password = deviceSettingsMap['password']?.value;\n        const host = deviceSettingsMap['ip']?.value;\n        const channel = deviceSettingsMap['rtspChannel']?.value;\n\n        return { username, password, host, channel }\n    }\n\n    async getClient() {\n        if (!this.client) {\n            const { channel, host, username: usernameParent, password: passwordParent } = await this.getDeviceProperties();\n            const { username, password } = this.storageSettings.values;\n\n            this.client = new ReolinkCameraClient(\n                host,\n                username || usernameParent,\n                password || passwordParent,\n                channel,\n                this.console,\n                true,\n            );\n        }\n\n        return this.client;\n    }\n\n    async getVideoclipWebhookUrls(videoclipPath: string) {\n        const cloudEndpoint = await endpointManager.getCloudEndpoint(undefined, { public: true });\n        const [endpoint, parameters] = cloudEndpoint.split('?') ?? '';\n        const params = {\n            deviceId: this.id,\n            videoclipPath,\n        }\n\n        const videoclipUrl = `${endpoint}videoclip?params=${JSON.stringify(params)}&${parameters}`;\n        const thumbnailUrl = `${endpoint}thumbnail?params=${JSON.stringify(params)}&${parameters}`;\n\n        return { videoclipUrl, thumbnailUrl };\n    }\n\n    private processDate(date: VideoSearchTime) {\n        let timeDate = new Date();\n\n        timeDate.setFullYear(date.year);\n        timeDate.setMonth(date.mon - 1);\n        timeDate.setDate(date.day);\n        timeDate.setHours(date.hour);\n        timeDate.setMinutes(date.min);\n        timeDate.setSeconds(date.sec);\n\n        return timeDate.getTime();\n    }\n\n    async getVideoClips(options?: VideoClipOptions, streamType: VideoSearchType = 'main') {\n        const logger = this.getLogger();\n        try {\n            const { ftp } = this.storageSettings.values;\n\n            const videoclips: VideoClip[] = [];\n\n            if (ftp) {\n                for (const item of this.ftpScanData) {\n                    const timestamp = this.processDate(item.time);\n\n                    if (item.type === 'video' && timestamp >= options.startTime && timestamp <= options.endTime) {\n                        // Check if possible to fetch it with decent performances\n                        const durationInMs = 30;\n                        const videoclipPath = item.fullPath;\n\n                        const event = 'motion';\n                        const { thumbnailUrl, videoclipUrl } = await this.getVideoclipWebhookUrls(videoclipPath);\n                        videoclips.push({\n                            id: videoclipPath,\n                            startTime: timestamp,\n                            // duration: Math.round(durationInMs),\n                            videoId: videoclipPath,\n                            thumbnailId: videoclipPath,\n                            detectionClasses: [event],\n                            event,\n                            description: event,\n                            resources: {\n                                thumbnail: {\n                                    href: thumbnailUrl\n                                },\n                                video: {\n                                    href: videoclipUrl\n                                }\n                            }\n                        });\n                    }\n                }\n                logger.log(`Videoclips found:`, JSON.stringify({ videoclips }));\n            } else {\n                const api = await this.getClient();\n\n                const dateRanges = splitDateRangeByDay(options.startTime, options.endTime);\n\n                let allSearchedElements: VideoSearchResult[] = [];\n\n                for (const dateRange of dateRanges) {\n                    const response = await api.getVideoClips({ startTime: dateRange.start, endTime: dateRange.end });\n                    allSearchedElements.push(...response);\n                }\n\n                logger.log(`Videoclips found:`, JSON.stringify({\n                    allSearchedElements,\n                    dateRanges,\n                    token: api.parameters.token\n                }));\n\n                for (const searchElement of allSearchedElements) {\n                    const videoclipPath = searchElement.name;\n                    try {\n                        const startTime = this.processDate(searchElement.StartTime);\n                        const entdTime = this.processDate(searchElement.EndTime);\n\n                        const durationInMs = entdTime - startTime;\n                        const { detectionClasses } = parseVideoclipName(videoclipPath)\n\n                        const event = 'motion';\n                        const { thumbnailUrl, videoclipUrl } = await this.getVideoclipWebhookUrls(videoclipPath);\n                        videoclips.push({\n                            id: videoclipPath,\n                            startTime,\n                            duration: Math.round(durationInMs),\n                            videoId: videoclipPath,\n                            thumbnailId: videoclipPath,\n                            detectionClasses,\n                            event,\n                            description: event,\n                            resources: {\n                                thumbnail: {\n                                    href: thumbnailUrl\n                                },\n                                video: {\n                                    href: videoclipUrl\n                                }\n                            }\n                        });\n                    } catch (e) {\n                        logger.log(`error parsing videoclip ${videoclipPath}: ${JSON.stringify(searchElement)}`, e);\n                    }\n                }\n            }\n\n            return videoclips;\n        } catch (e) {\n            logger.log('Error during get videoClips', e);\n        }\n    }\n\n    async getVideoclipParams(videoclipId: string) {\n        const { ftp } = this.storageSettings.values;\n        const { thumbnailFolder } = getFolderPaths(this.id, this.plugin.storageSettings.values.downloadFolder);\n        const filename = `${videoclipId.split('/').pop().split('.')[0]}`;\n\n        let videoclipUrl: string;\n        if (ftp) {\n            videoclipUrl = videoclipId;\n        } else {\n            const api = await this.getClient();\n            const { playbackPathWithHost } = await api.getVideoClipUrl(videoclipId, this.id);\n            videoclipUrl = playbackPathWithHost;\n        }\n\n        return { videoclipUrl, filename, thumbnailFolder };\n    }\n\n    async getVideoClip(videoId: string): Promise<MediaObject> {\n        const logger = this.getLogger();\n        logger.log('Fetching videoId ', videoId);\n        const { videoclipUrl } = await this.getVideoclipWebhookUrls(videoId);\n        const videoclipMo = await sdk.mediaManager.createMediaObject(videoclipUrl, 'video/mp4');\n\n        return videoclipMo;\n    }\n\n    async getVideoClipThumbnail(thumbnailId: string, options?: VideoClipThumbnailOptions): Promise<MediaObject> {\n        const logger = this.getLogger();\n        logger.log('Fetching thumbnailId ', thumbnailId);\n        const { filename, videoclipUrl, thumbnailFolder } = await this.getVideoclipParams(thumbnailId);\n\n        const { thumbnailMo } = await getThumbnailMediaObject({\n            filename,\n            thumbnailFolder,\n            videoclipUrl,\n            console: this.console,\n        })\n\n        return thumbnailMo;\n    }\n\n    removeVideoClips(...videoClipIds: string[]): Promise<void> {\n        throw new Error(\"Method not implemented.\");\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        this.storageSettings.settings.filenamePrefix.hide = !this.storageSettings.values.ftp;\n        this.storageSettings.settings.ftpFolder.hide = !this.storageSettings.values.ftp;\n\n        const settings = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n    }\n}\n","import { VideoClipOptions } from '@scrypted/sdk';\nimport { AuthFetchCredentialState, authHttpFetch } from '@scrypted/common/src/http-auth-fetch';\nimport { PassThrough, Readable } from 'stream';\nimport { HttpFetchOptions } from '../../scrypted/server/src/fetch/http-fetch';\nimport { getLoginParameters } from '../../scrypted/plugins/reolink/src/probe';\n\nexport interface VideoSearchTime {\n    day: number;\n    hour: number;\n    min: number;\n    mon: number;\n    sec: number;\n    year: number;\n}\n\nexport interface VideoSearchResult {\n    EndTime: VideoSearchTime;\n    StartTime: VideoSearchTime;\n    frameRate: number;\n    height: number;\n    name: string;\n    size: number;\n    type: number;\n    width: number;\n}\n\nexport interface LoginData {\n    tokenLease: number;\n    parameters: Record<string, string>;\n}\n\nexport type VideoSearchType = 'sub' | 'main';\n\nexport class ReolinkCameraClient {\n    credential: AuthFetchCredentialState;\n    parameters: Record<string, string>;\n    tokenLease: number;\n    loggingIn = false;\n    refreshTokenInterval: NodeJS.Timeout;\n\n    constructor(\n        public host: string,\n        public username: string,\n        public password: string,\n        public channelId: number,\n        public console: Console,\n        public readonly forceToken?: boolean\n    ) {\n        this.credential = {\n            username,\n            password,\n        };\n        this.parameters = {};\n\n        this.refreshTokenInterval = setInterval(async () => this.refreshSession(), 1000 * 60 * 5);\n        this.refreshSession().catch(this.console.log);\n    }\n\n    async refreshSession() {\n        try {\n            await this.logout();\n            await this.login();\n        } catch (e) {\n            this.console.log('Error in refreshSession', e);\n        }\n    }\n\n    private async request(options: HttpFetchOptions<Readable>, body?: Readable) {\n        const response = await authHttpFetch({\n            ...options,\n            rejectUnauthorized: false,\n            credential: this.credential,\n            body,\n        });\n        return response;\n    }\n\n    private createReadable = (data: any) => {\n        const pt = new PassThrough();\n        pt.write(Buffer.from(JSON.stringify(data)));\n        pt.end();\n        return pt;\n    }\n\n    async logout() {\n        const url = new URL(`http://${this.host}/api.cgi`);\n        const params = url.searchParams;\n        params.set('cmd', 'Logout');\n        await this.requestWithLogin({\n            url,\n            responseType: 'json',\n        });\n\n        this.parameters = {};\n        this.tokenLease = undefined;\n    }\n\n    async login() {\n        try {\n            if (!this.loggingIn) {\n                this.loggingIn = true;\n                if (this.tokenLease > Date.now()) {\n                    return;\n                }\n\n                if (this.tokenLease) {\n                    this.console.log(`token expired at ${this.tokenLease}, renewing...`);\n                }\n\n                const { parameters, leaseTimeSeconds } = await getLoginParameters(this.host, this.username, this.password, this.forceToken);\n                this.parameters = parameters\n                this.tokenLease = Date.now() + 1000 * leaseTimeSeconds;\n                this.loggingIn = false;\n                this.console.log(`New token: ${parameters.token}`);\n            }\n        } finally {\n            this.loggingIn = false;\n        }\n    }\n\n    async requestWithLogin(options: HttpFetchOptions<Readable>, body?: Readable) {\n        await this.login();\n        const url = options.url as URL;\n        const params = url.searchParams;\n        for (const [k, v] of Object.entries(this.parameters)) {\n            params.set(k, v);\n        }\n        // this.console.log(`Calling ${url.pathname} with username ${params.get('username')} and token ${params.get('token')}`);\n        return this.request(options, body);\n    }\n\n    async getVideoClips(options?: VideoClipOptions, streamType: VideoSearchType = 'main') {\n        const url = new URL(`http://${this.host}/api.cgi`);\n\n        const startTime = new Date(options.startTime);\n        let endTime = options.endTime ? new Date(options.endTime) : undefined;\n\n        // If the endTime is not the same day as startTime, \n        // or no endDate is provided, set to the end of the startTime\n        // Reolink only supports 1 day recordings fetching\n        if (!endTime || endTime.getDate() > startTime.getDate()) {\n            endTime = new Date(startTime);\n            endTime.setHours(23);\n            endTime.setMinutes(59);\n            endTime.setSeconds(59);\n        }\n\n        const body = [\n            {\n                cmd: \"Search\",\n                action: 1,\n                param: {\n                    Search: {\n                        channel: this.channelId,\n                        streamType,\n                        onlyStatus: 0,\n                        StartTime: {\n                            year: startTime.getFullYear(),\n                            mon: startTime.getMonth() + 1,\n                            day: startTime.getDate(),\n                            hour: startTime.getHours(),\n                            min: startTime.getMinutes(),\n                            sec: startTime.getSeconds()\n                        },\n                        EndTime: {\n                            year: endTime.getFullYear(),\n                            mon: endTime.getMonth() + 1,\n                            day: endTime.getDate(),\n                            hour: endTime.getHours(),\n                            min: endTime.getMinutes(),\n                            sec: endTime.getSeconds()\n                        }\n                    }\n                }\n            }\n        ];\n\n        try {\n            const response = await this.requestWithLogin({\n                url,\n                responseType: 'json',\n                method: 'POST',\n            }, this.createReadable(body));\n\n            const error = response.body?.[0]?.error;\n            if (error) {\n                this.console.log('Error fetching videoclips', error, JSON.stringify({ body, url }));\n                return [];\n            }\n\n            return (response.body?.[0]?.value?.SearchResult?.File ?? []) as VideoSearchResult[];\n        } catch (e) {\n            this.console.log('Error fetching videoclips', e);\n            return [];\n        }\n    }\n\n    async getVideoClipUrl(videoclipPath: string, deviceId: string) {\n        const fileNameWithExtension = videoclipPath.split('/').pop();\n        const fileName = fileNameWithExtension.split('.').shift();\n        let sanitizedPath = videoclipPath.replaceAll(' ', '%20');\n        if (!sanitizedPath.startsWith('/')) {\n            sanitizedPath = `/${sanitizedPath}`;\n        }\n\n        const downloadPath = `api.cgi?cmd=Download&source=${sanitizedPath}&output=${fileNameWithExtension}&token=${this.parameters.token}`;\n        const playbackPath = `cgi-bin/api.cgi?cmd=Playback&source=${sanitizedPath}&output=${sanitizedPath}&token=${this.parameters.token}`;\n\n        return {\n            downloadPath,\n            playbackPath,\n            downloadPathWithHost: `http://${this.host}/${downloadPath}`,\n            playbackPathWithHost: `http://${this.host}/${playbackPath}`,\n            fileName,\n            fileNameWithExtension,\n        };\n    }\n\n    async jpegSnapshot(timeout = 10000) {\n        const url = new URL(`http://${this.host}/cgi-bin/api.cgi`);\n        const params = url.searchParams;\n        params.set('cmd', 'Snap');\n        params.set('snapType', 'main');\n        params.set('channel', this.channelId.toString());\n        params.set('rs', Date.now().toString());\n\n        const response = await this.requestWithLogin({\n            url,\n            timeout,\n        });\n\n        return response.body;\n    }\n\n    async getBatteryInfo() {\n        const url = new URL(`http://${this.host}/api.cgi`);\n\n        const body = [\n            {\n                cmd: \"GetBatteryInfo\",\n                action: 0,\n                param: { channel: this.channelId }\n            },\n            {\n                cmd: \"GetChannelstatus\",\n            }\n        ];\n\n        const response = await this.requestWithLogin({\n            url,\n            responseType: 'json',\n            method: 'POST',\n        }, this.createReadable(body));\n\n        const error = response.body?.find(elem => elem.error)?.error;\n        if (error) {\n            this.console.error('error during call to getBatteryInfo', error);\n        }\n\n        const batteryInfoEntry = response.body.find(entry => entry.cmd === 'GetBatteryInfo')?.value?.Battery;\n        const channelStatusEntry = response.body.find(entry => entry.cmd === 'GetChannelstatus')?.value?.status\n            ?.find(chStatus => chStatus.channel === this.channelId)\n\n        return {\n            batteryPercent: batteryInfoEntry?.batteryPercent,\n            sleep: channelStatusEntry ? channelStatusEntry.sleep === 1 : undefined,\n        }\n    }\n}\n","import sdk, { DeviceBase, HttpRequest, HttpRequestHandler, HttpResponse, MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, Setting, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport { cleanup } from \"./utils\";\nimport ReolinkVideoclipssMixin from \"./cameraMixin\";\nimport http from 'http';\nimport fs from 'fs';\n\nexport default class ReolinkVideoclipssProvider extends ScryptedDeviceBase implements MixinProvider, HttpRequestHandler {\n    storageSettings = new StorageSettings(this, {\n        downloadFolder: {\n            title: 'Directory where to cache thumbnails and videoclips',\n            description: 'Default to the plugin folder',\n            type: 'string',\n        },\n        clearDownloadedData: {\n            title: 'clear stored data',\n            type: 'button',\n            onPut: async () => await cleanup(this.storageSettings.values.downloadFolder)\n        },\n    });\n    public mixinsMap: Record<string, ReolinkVideoclipssMixin> = {};\n\n    constructor(nativeId: string) {\n        super(nativeId);\n    }\n\n    async onRequest(request: HttpRequest, response: HttpResponse): Promise<void> {\n        const url = new URL(`http://localhost${request.url}`);\n        const params = url.searchParams.get('params') ?? '{}';\n\n        try {\n            const [_, __, ___, ____, _____, webhook] = url.pathname.split('/');\n            const { deviceId, videoclipPath, parameters } = JSON.parse(params);\n            const dev = this.mixinsMap[deviceId];\n            const devConsole = dev.console;\n            // devConsole.log(`Request with parameters: ${JSON.stringify({\n            //     webhook,\n            //     deviceId,\n            //     videoclipPath,\n            //     parameters\n            // })}`);\n\n            try {\n                if (webhook === 'videoclip') {\n\n                    if (dev.storageSettings.values.ftp) {\n                        // devConsole.log(`Videoclip requested via FTP: ${JSON.stringify({\n                        //     videoclipPath,\n                        //     deviceId,\n                        // })}`);\n\n                        const stat = fs.statSync(videoclipPath);\n                        const fileSize = stat.size;\n                        const range = request.headers.range;\n\n                        if (range) {\n                            const parts = range.replace(/bytes=/, \"\").split(\"-\");\n                            const start = parseInt(parts[0], 10);\n                            const end = parts[1] ? parseInt(parts[1], 10) : fileSize - 1;\n\n                            const chunksize = (end - start) + 1;\n                            const file = fs.createReadStream(videoclipPath, { start, end });\n\n\n                            const sendVideo = async () => {\n                                return new Promise<void>((resolve, reject) => {\n                                    try {\n                                        response.sendStream((async function* () {\n                                            for await (const chunk of file) {\n                                                yield chunk;\n                                            }\n                                        })(), {\n                                            code: 206,\n                                            headers: {\n                                                'Content-Range': `bytes ${start}-${end}/${fileSize}`,\n                                                'Accept-Ranges': 'bytes',\n                                                'Content-Length': chunksize,\n                                                'Content-Type': 'video/mp4',\n                                            }\n                                        });\n\n                                        resolve();\n                                    } catch (err) {\n                                        reject(err);\n                                    }\n                                });\n                            };\n\n                            try {\n                                await sendVideo();\n                                return;\n                            } catch (e) {\n                                devConsole.log('Error fetching videoclip', e);\n                            }\n                        } else {\n                            response.sendFile(videoclipPath, {\n                                code: 200,\n                                headers: {\n                                    'Content-Length': fileSize,\n                                    'Content-Type': 'video/mp4',\n                                }\n                            });\n                        }\n\n                        return;\n                    } else {\n                        const api = await dev.getClient();\n\n                        const { playbackPathWithHost } = await api.getVideoClipUrl(videoclipPath, deviceId);\n                        // devConsole.log(`Videoclip requested via API: ${JSON.stringify({\n                        //     videoclipPath,\n                        //     deviceId,\n                        //     playbackPathWithHost,\n                        // })}`);\n\n                        const sendVideo = async () => {\n                            return new Promise<void>((resolve, reject) => {\n                                http.get(playbackPathWithHost, { headers: request.headers }, (httpResponse) => {\n                                    if (httpResponse.statusCode[0] === 400) {\n                                        reject(new Error(`Error loading the video: ${httpResponse.statusCode} - ${httpResponse.statusMessage}. Headers: ${JSON.stringify(request.headers)}`));\n                                        return;\n                                    }\n\n                                    try {\n                                        response.sendStream((async function* () {\n                                            for await (const chunk of httpResponse) {\n                                                yield chunk;\n                                            }\n                                        })(), {\n                                            headers: httpResponse.headers\n                                        });\n\n                                        resolve();\n                                    } catch (err) {\n                                        reject(err);\n                                    }\n                                }).on('error', (e) => {\n                                    devConsole.log('Error fetching videoclip', e);\n                                    reject(e)\n                                });\n                            });\n                        };\n\n                        try {\n                            await sendVideo();\n                            return;\n                        } catch (e) {\n                            devConsole.log('Error fetching videoclip', e);\n                        }\n                    }\n                } else\n                    if (webhook === 'thumbnail') {\n                        devConsole.log(`Thumbnail requested: ${JSON.stringify({\n                            videoclipPath,\n                            deviceId,\n                        })}`);\n                        const thumbnailMo = await dev.getVideoClipThumbnail(videoclipPath);\n                        const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(thumbnailMo, 'image/jpeg');\n                        response.send(jpeg, {\n                            headers: {\n                                'Content-Type': 'image/jpeg',\n                            }\n                        });\n                        return;\n                    }\n            } catch (e) {\n                devConsole.log(`Error in webhook`, e);\n                response.send(`${JSON.stringify(e)}, ${e.message}`, {\n                    code: 400,\n                });\n\n                return;\n            }\n\n            response.send(`Webhook not found: ${url.pathname}`, {\n                code: 404,\n            });\n\n            return;\n        } catch (e) {\n            this.console.log('Error in data parsing for webhook', e);\n            response.send(`Error in data parsing for webhook: ${JSON.stringify({\n                params,\n                url: request.url\n            })}`, {\n                code: 500,\n            });\n        }\n    }\n\n    async getSettings() {\n        const settings: Setting[] = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        return [\n            ScryptedInterface.Camera,\n            ScryptedInterface.VideoCamera,\n        ].some(int => interfaces.includes(int)) ?\n            [\n                ScryptedInterface.Settings,\n                ScryptedInterface.VideoClips,\n            ] :\n            undefined;\n    }\n\n    async getMixin(mixinDevice: DeviceBase, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new ReolinkVideoclipssMixin(\n            {\n                mixinDevice,\n                mixinDeviceInterfaces,\n                mixinDeviceState,\n                mixinProviderNativeId: this.nativeId,\n                group: 'Reolink videoclips',\n                groupKey: 'reolinkVideoclips',\n            },\n            this);\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}","import path from 'path';\nimport fs from 'fs';\nimport url from 'url';\nimport sdk, { MediaObject } from '@scrypted/sdk';\n\nconst { mediaManager } = sdk;\n\nexport const getFolderPaths = (deviceId: string, overridePath?: string) => {\n    let basePath = overridePath;\n\n    if (!basePath) {\n        basePath = process.env.SCRYPTED_PLUGIN_VOLUME;\n    }\n\n    const thumbnailFolder = path.join(basePath, 'thumbnails', deviceId);\n\n    if (!fs.existsSync(thumbnailFolder)) {\n        fs.mkdirSync(thumbnailFolder, { recursive: true });\n    }\n    return { thumbnailFolder };\n}\n\nexport const cleanup = (overridePath?: string) => {\n    let basePath = overridePath;\n\n    if (!basePath) {\n        basePath = process.env.SCRYPTED_PLUGIN_VOLUME;\n    }\n\n    const thumbnailFolder = path.join(basePath, 'thumbnails');\n\n    if (fs.existsSync(thumbnailFolder)) {\n        fs.rmSync(thumbnailFolder, { recursive: true, force: true });\n    }\n}\n\nexport const getThumbnailMediaObject = async (props: {\n    thumbnailFolder: string,\n    filename: string,\n    videoclipUrl: string,\n    console: Console,\n}) => {\n    const { filename: filenameSrc, thumbnailFolder, videoclipUrl, console } = props;\n    const filename = filenameSrc.replaceAll(' ', '_');\n    const outputThumbnailFile = path.join(thumbnailFolder, `${filename}.jpg`);\n    let thumbnailMo: MediaObject;\n\n    try {\n        if (fs.existsSync(outputThumbnailFile) && fs.statSync(outputThumbnailFile).size === 0) {\n            console.log(`Thumbnail ${outputThumbnailFile} corrupted, removing.`);\n            fs.rmSync(outputThumbnailFile);\n        }\n\n        if (!fs.existsSync(outputThumbnailFile)) {\n            console.log(`Thumbnail not found in ${outputThumbnailFile}, generating.`);\n\n            const mo = await mediaManager.createFFmpegMediaObject({\n                inputArguments: [\n                    '-ss', '00:00:05',\n                    '-i', videoclipUrl,\n                ],\n            });\n            const jpeg = await mediaManager.convertMediaObjectToBuffer(mo, 'image/jpeg');\n            if (jpeg.length) {\n                console.log(`Saving thumbnail in ${outputThumbnailFile}`);\n                await fs.promises.writeFile(outputThumbnailFile, jpeg);\n            } else {\n                console.log('Not saving, image is corrupted');\n            }\n        }\n\n        if (fs.existsSync(outputThumbnailFile)) {\n            const fileURLToPath = url.pathToFileURL(outputThumbnailFile).toString();\n            thumbnailMo = await mediaManager.createMediaObjectFromUrl(fileURLToPath);\n        }\n\n        return { thumbnailMo };\n    } catch (e) {\n        console.error(`Error retrieving thumbnail of videoclip ${filename} (${videoclipUrl})`, e);\n        fs.existsSync(outputThumbnailFile) && fs.rmSync(outputThumbnailFile);\n\n        return {};\n    }\n}\n\nexport const findStartTimeFromFileName = (fileName: string) => {\n    const regex = /.*Rec(\\w{3})(?:_|_DST)(\\d{8})_(\\d{6})_.*/gm;\n\n    let m;\n    const groups: string[] = [];\n\n    while ((m = regex.exec(fileName)) !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n            regex.lastIndex++;\n        }\n\n        // The result can be accessed through the `m`-variable.\n        m.forEach((match, groupIndex) => {\n            groups.push(match);\n        });\n    }\n\n    return `${groups[2]}${groups[3]}`;\n}\n\nconst FLAGS_CAM_V2 = {\n    resolution_index: [0, 7],\n    tv_system: [7, 1],\n    framerate: [8, 7],\n    audio_index: [15, 2],\n    ai_pd: [17, 1],\n    ai_fd: [18, 1],\n    ai_vd: [19, 1],\n    ai_ad: [20, 1],\n    encoder_type_index: [21, 2],\n    is_schedule_record: [23, 1],\n    is_motion_record: [24, 1],\n    is_rf_record: [25, 1],\n    is_doorbell_record: [26, 1],\n    ai_other: [27, 1],\n};\nconst FLAGS_HUB_V0 = {\n    \"resolution_index\": [0, 7],\n    \"tv_system\": [7, 1],\n    \"framerate\": [8, 7],\n    \"audio_index\": [15, 2],\n    \"ai_pd\": [17, 1],\n    \"ai_fd\": [18, 1],\n    \"ai_vd\": [19, 1],\n    \"ai_ad\": [20, 1],\n    \"encoder_type_index\": [21, 2],\n    \"is_schedule_record\": [23, 1],\n    \"is_motion_record\": [24, 1],\n    \"is_rf_record\": [25, 1],\n    \"is_doorbell_record\": [26, 1],\n    \"is_ai_other_record\": [27, 1],\n    \"picture_layout_index\": [28, 7],\n    \"package_delivered\": [35, 1],\n    \"package_takenaway\": [36, 1],\n}\nconst FLAGS_HUB_V1 = {\n    ...FLAGS_HUB_V0,\n    \"package_event\": [37, 1],\n}\nconst FLAGS_MAPPING = {\n    \"cam\": {\n        2: FLAGS_CAM_V2,\n        3: FLAGS_CAM_V2,\n        4: FLAGS_CAM_V2,\n        9: FLAGS_CAM_V2,\n    },\n    \"hub\": {\n        0: FLAGS_HUB_V0,\n        1: FLAGS_HUB_V1,\n        2: {\n            \"resolution_index\": [0, 7],\n            \"tv_system\": [7, 1],\n            \"framerate\": [8, 7],\n            \"audio_index\": [15, 2],\n            \"ai_pd\": [17, 1],\n            \"ai_fd\": [18, 1],\n            \"ai_vd\": [19, 1],\n            \"ai_ad\": [20, 1],\n            \"ai_other\": [21, 2],\n            \"encoder_type_index\": [23, 1],\n            \"is_schedule_record\": [24, 1],\n            \"is_motion_record\": [25, 1],\n            \"is_rf_record\": [26, 1],\n            \"is_doorbell_record\": [27, 1],\n            \"picture_layout_index\": [28, 7],\n            \"package_delivered\": [35, 1],\n            \"package_takenaway\": [36, 1],\n            \"package_event\": [37, 1],\n            \"upload_flag\": [38, 1],\n        },\n        // 2: {\n        //     \"resolution_index\": [0, 7],\n        //     \"tv_system\": [7, 1],\n        //     \"framerate\": [8, 7],\n        //     \"audio_index\": [15, 2],\n        //     \"ai_pd\": [17, 1],\n        //     \"ai_fd\": [18, 1],\n        //     \"ai_vd\": [19, 1],\n        //     \"ai_ad\": [20, 1],\n        //     \"ai_other\": [21, 2],\n        //     \"encoder_type_index\": [23, 1],\n        //     \"is_schedule_record\": [24, 1],\n        //     \"is_motion_record\": [25, 1],\n        //     \"is_rf_record\": [26, 1],\n        //     \"is_doorbell_record\": [27, 1],\n        //     \"picture_layout_index\": [28, 7],\n        //     \"package_delivered\": [35, 1],\n        //     \"package_takenaway\": [36, 1],\n        //     \"package_event\": [37, 1],\n        //     \"upload_flag\": [38, 1],\n        // },\n    },\n}\n\n\nexport const parseVideoclipName = (videoclipPath: string) => {\n    try {\n        const filenameWithExtension = videoclipPath.split('/').pop();\n        const filename = filenameWithExtension.split('.')[0];\n        const parts = filename.split('_');\n\n        let hexValue;\n        let sizeHex;\n        const version = parseInt(parts[0].substring(4, 6), 16)\n        let devType;\n        if (parts.length === 6) {\n            devType = 'cam';\n            hexValue = parts[4];\n            sizeHex = parts[5];\n        } else if (parts.length === 9) {\n            devType = 'hub';\n            hexValue = parts[7];\n            sizeHex = parts[8];\n        }\n\n        const hexInt = parseInt(hexValue, 16);\n\n        // Reverse the binary representation of the integer\n        const hexIntReversed = parseInt(\n            hexInt\n                .toString(2) // Convert to binary string\n                .padStart(hexValue.length * 4, '0') // Pad with zeros\n                .split('') // Split into array\n                .reverse() // Reverse the array\n                .join(''), // Join back into string\n            2 // Convert back to integer\n        );\n\n        const flagValues = {};\n\n        // Iterate through the flags in the mapping\n        const flagsMapping = FLAGS_MAPPING[devType][version] as Record<number, [number, number]>;\n        for (const [flag, [bitPosition, bitSize]] of Object.entries(flagsMapping)) {\n            // Create a mask for the specified bit range\n            const mask = ((1 << bitSize) - 1) << bitPosition;\n\n            // Extract the reversed value for this flag\n            const flagValueReversed = (hexIntReversed & mask) >> bitPosition;\n\n            // Reverse the extracted value and store it in the result\n            const flagValue = parseInt(\n                flagValueReversed\n                    .toString(2) // Convert to binary string\n                    .padStart(bitSize, '0') // Pad with zeros to match the bit size\n                    .split('') // Split into array\n                    .reverse() // Reverse the array\n                    .join(''), // Join back into string\n                2 // Convert back to integer\n            );\n\n            flagValues[flag] = flagValue;\n        }\n\n        const size = Number(`0x${sizeHex}`);\n\n        const detectionClasses: string[] = [];\n\n        if (flagValues['ai_pd'] === 1) {\n            detectionClasses.push('person');\n        }\n        if (flagValues['ai_vd'] === 1) {\n            detectionClasses.push('vehicle');\n        }\n        if (flagValues['ai_fd'] === 1) {\n            detectionClasses.push('face');\n        }\n        if (flagValues['ai_ad'] === 1) {\n            detectionClasses.push('animal');\n        }\n        if (flagValues['is_motion_record'] === 1 || flagValues['ai_other'] === 1) {\n            detectionClasses.push('motion');\n        }\n\n        return {\n            // version,\n            // date,\n            // startTime,\n            // endTime,\n            size,\n            detectionClasses,\n        };\n    } catch (e) {\n        console.error('Error parsing the filename', e);\n    }\n}\n\nexport const splitDateRangeByDay = (start: number, end: number) => {\n    const ranges: { start: number, end: number }[] = [];\n\n\n    let currentStart = new Date(start);\n    const endTime = new Date(end);\n\n    while (currentStart <= endTime) {\n        // Calculate the end of the current day\n        const endOfDay = new Date(currentStart);\n        endOfDay.setHours(23, 59, 59, 999);\n\n        // Find the end of the current range\n        const currentEnd = endTime < endOfDay ? endTime : endOfDay;\n\n        // Add the current range to the result\n        ranges.push({ start: new Date(currentStart).getTime(), end: new Date(currentEnd).getTime() });\n\n        // Exit the loop if we've reached the end\n        if (currentEnd >= endTime) break;\n\n        // Move to the next day\n        currentStart = new Date(currentEnd.getTime() + 1); // Add 1ms to move to the next interval\n    }\n\n    return ranges;\n}","import { httpFetch, httpFetchParseIncomingMessage } from '../../server/src/fetch/http-fetch';\nimport type { IncomingMessage } from 'http';\nimport type { Readable } from 'stream';\nimport { createAuthFetch } from '../../packages/auth-fetch/src/auth-fetch';\n\nexport type { HttpFetchOptions, HttpFetchResponseType } from '../../server/src/fetch/http-fetch';\nexport type { AuthFetchCredentialState, AuthFetchOptions } from '../../packages/auth-fetch/src/auth-fetch';\n\nexport const authHttpFetch = createAuthFetch<Readable, IncomingMessage>(httpFetch, httpFetchParseIncomingMessage);\n\nfunction ensureType<T>(v: T) {\n}\n\nasync function test() {\n    const a = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n    });\n\n    ensureType<Buffer>(a.body);\n\n    const b = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'json',\n    });\n    ensureType<any>(b.body);\n\n    const c = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'readable',\n    });\n    ensureType<IncomingMessage>(c.body);\n\n    const d = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'buffer',\n    });\n    ensureType<Buffer>(d.body);\n\n    const e = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'text',\n    });\n    ensureType<string>(e.body);\n}\n\n","import { HttpFetchOptions, HttpFetchResponseType, checkStatus, createHeadersArray, fetcher, getFetchMethod, hasHeader, setDefaultHttpFetchAccept, setHeader } from '../../../server/src/fetch';\n\nexport interface AuthFetchCredentialState {\n    username: string;\n    password: string;\n}\n\nexport interface AuthFetchOptions {\n    credential?: AuthFetchCredentialState;\n}\n\nasync function getAuth(options: AuthFetchOptions, url: string | URL, method: string) {\n    if (!options.credential)\n        return;\n\n    const { BASIC, DIGEST, parseWWWAuthenticateHeader } = await import('http-auth-utils');\n\n    const credential = options.credential as AuthFetchCredentialState & {\n        count?: number;\n        digest?: ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n        basic?: ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n    };\n    const { digest, basic } = credential;\n\n    if (digest) {\n        credential.count ||= 0;\n        ++credential.count;\n        const nc = ('00000000' + credential.count).slice(-8);\n        const cnonce = [...Array(24)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n        const uri = new URL(url).pathname;\n\n        const { DIGEST, buildAuthorizationHeader } = await import('http-auth-utils');\n\n        const response = DIGEST.computeHash({\n            username: options.credential.username,\n            password: options.credential.password,\n            method,\n            uri,\n            nc,\n            cnonce,\n            algorithm: 'MD5',\n            qop: digest.data.qop!,\n            ...digest.data,\n        });\n\n        const header = buildAuthorizationHeader(DIGEST, {\n            username: options.credential.username,\n            uri,\n            nc,\n            cnonce,\n            algorithm: digest.data.algorithm!,\n            qop: digest.data.qop!,\n            response,\n            ...digest.data,\n        });\n\n        return header;\n    }\n    else if (basic) {\n        const { BASIC, buildAuthorizationHeader } = await import('http-auth-utils');\n\n        const header = buildAuthorizationHeader(BASIC, {\n            username: options.credential.username,\n            password: options.credential.password,\n        });\n\n        return header;\n    }\n}\n\nexport function createAuthFetch<B, M>(\n    h: fetcher<B, M>,\n    parser: (body: M, responseType: HttpFetchResponseType | undefined) => Promise<any>\n) {\n    const authHttpFetch = async <T extends HttpFetchOptions<B>>(options: T & AuthFetchOptions): ReturnType<typeof h<T>> => {\n        const method = getFetchMethod(options);\n        const headers = createHeadersArray(options.headers);\n        options.headers = headers;\n        setDefaultHttpFetchAccept(headers, options.responseType);\n\n        const initialHeader = await getAuth(options, options.url, method);\n        // try to provide an authorization if a session exists, but don't override Authorization if provided already.\n        // 401 will trigger a proper auth.\n        if (initialHeader && !hasHeader(headers, 'Authorization'))\n            setHeader(headers, 'Authorization', initialHeader);\n\n\n        const controller = new AbortController();\n        options.signal?.addEventListener('abort', () => controller.abort(options.signal?.reason));\n\n        const initialResponse = await h({\n            ...options,\n            signal: controller.signal,\n            // need to intercept the status code to check for 401.\n            // all other status codes will be handled according to the initial request options.\n            checkStatusCode(statusCode) {\n                // can handle a 401 if an credential is provided.\n                // however, not providing a credential is also valid, and should\n                // fall through to the normal response handling which may be interested\n                // in the 401 response.\n                if (statusCode === 401 && options.credential)\n                    return true;\n                if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n                    const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                    return checker(statusCode);\n                }\n                return true;\n            },\n            responseType: 'readable',\n        });\n\n        // if it's not a 401, just return the response.\n        if (initialResponse.statusCode !== 401) {\n            return {\n                ...initialResponse,\n                body: await parser(initialResponse.body, options.responseType),\n            };\n        }\n\n        let authenticateHeaders: string | string[] | null = initialResponse.headers.get('www-authenticate');\n        if (!authenticateHeaders)\n            throw new Error('Did not find WWW-Authenticate header.');\n\n\n        if (typeof authenticateHeaders === 'string')\n            authenticateHeaders = [authenticateHeaders];\n\n        const { BASIC, DIGEST, parseWWWAuthenticateHeader } = await import('http-auth-utils');\n        const parsedHeaders = authenticateHeaders.map(h => parseWWWAuthenticateHeader(h));\n\n        const digest = parsedHeaders.find(p => p.type === 'Digest') as ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n        const basic = parsedHeaders.find(p => p.type === 'Basic') as ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n        const credential = options.credential as AuthFetchCredentialState & {\n            count?: number;\n            digest?: ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n            basic?: ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n        };\n\n        credential.digest = digest;\n        credential.basic = basic;\n\n        if (!digest && !basic)\n            throw new Error(`Unknown WWW-Authenticate type: ${parsedHeaders[0]?.type}`);\n\n        const header = await getAuth(options, options.url, method);\n        if (header)\n            setHeader(headers, 'Authorization', header);\n\n        return h(options);\n    }\n\n    return authHttpFetch;\n}\n","import https from 'https';\nimport { httpFetch } from '../../../server/src/fetch/http-fetch';\n\nexport const reolinkHttpsAgent = new https.Agent({\n    rejectUnauthorized: false,\n});\n\nexport interface DevInfo {\n    B485: number;\n    IOInputNum: number;\n    IOOutputNum: number;\n    audioNum: number;\n    buildDay: string;\n    cfgVer: string;\n    channelNum: number;\n    detail: string;\n    diskNum: number;\n    exactType: string;\n    firmVer: string;\n    frameworkVer: number;\n    hardVer: string;\n    model: string;\n    name: string;\n    pakSuffix: string;\n    serial: string;\n    type: string;\n    wifi: number;\n}\n\nasync function getDeviceInfoInternal(host: string, parameters: Record<string, string>): Promise<DevInfo> {\n    const url = new URL(`http://${host}/api.cgi`);\n    const params = url.searchParams;\n    params.set('cmd', 'GetDevInfo');\n    for (const [key, value] of Object.entries(parameters)) {\n        params.set(key, value);\n    }\n\n    const response = await httpFetch({\n        url,\n        responseType: 'json',\n    });\n\n    const error = response.body?.[0]?.error;\n    if (error)\n        throw new Error('error during call to getDeviceInfo');\n\n    const ret: DevInfo = response.body?.[0]?.value?.DevInfo;\n    if (!ret?.type && !ret?.model && !ret?.exactType)\n        throw new Error('device info return unexpected data');\n    return ret;\n}\n\nexport async function getDeviceInfo(host: string, username: string, password: string): Promise<DevInfo> {\n    const parameters = await getLoginParameters(host, username, password);\n    return getDeviceInfoInternal(host, parameters.parameters);\n}\n\nexport async function getLoginParameters(host: string, username: string, password: string, forceToken?: boolean) {\n    if (!forceToken) {\n        try {\n            await getDeviceInfoInternal(host, {\n                user: username,\n                password,\n            });\n            return {\n                parameters: {\n                    user: username,\n                    password,\n                },\n                leaseTimeSeconds: Infinity,\n            }\n        }\n        catch (e) {\n        }\n    }\n\n    try {\n        const url = new URL(`http://${host}/api.cgi`);\n        const params = url.searchParams;\n        params.set('cmd', 'Login');\n\n        const response = await httpFetch({\n            url,\n            method: 'POST',\n            responseType: 'json',\n            rejectUnauthorized: false,\n            body: [\n                {\n                    cmd: 'Login',\n                    action: 0,\n                    param: {\n                        User: {\n                            userName: username,\n                            password: password\n                        }\n                    }\n                },\n            ],\n        });\n\n        const token = response.body?.[0]?.value?.Token?.name || response.body?.value?.Token?.name;\n        if (!token)\n            throw new Error('unable to login');\n        const { body } = response;\n        const leaseTimeSeconds: number = body?.[0]?.value?.Token.leaseTime || body?.value?.Token.leaseTime;\n        return {\n            parameters: {\n                token,\n            },\n            leaseTimeSeconds,\n        }\n    }\n    catch (e) {\n        // if the token exchange fails, fall back to basic auth\n        // TODO: maybe detect error type?\n        return {\n            parameters: {\n                user: username,\n                password,\n            },\n            leaseTimeSeconds: 60,\n        }\n    }\n}\n","import type events from 'events';\nimport type followRedirects from 'follow-redirects';\nimport type { IncomingMessage } from 'http';\nimport type stream from 'stream';\nimport type { Readable } from 'stream';\nimport { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, createHeadersArray, createStringOrBufferBody, getFetchMethod, setDefaultHttpFetchAccept } from '.';\nexport type { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, setDefaultHttpFetchAccept } from '.';\n\nasync function readMessageBuffer(response: IncomingMessage) {\n    const buffers: Buffer[] = [];\n    response.on('data', buffer => buffers.push(buffer));\n    const { once } = require('events') as typeof events;\n    await once(response, 'end');\n    return Buffer.concat(buffers);\n}\n\nexport interface FetchParser<T> {\n    parse(message: IncomingMessage): Promise<T>;\n}\n\nconst TextParser: FetchParser<string> = {\n    async parse(message: IncomingMessage) {\n        return (await readMessageBuffer(message)).toString();\n    }\n}\nconst JSONParser: FetchParser<any> = {\n    async parse(message: IncomingMessage) {\n        return JSON.parse((await readMessageBuffer(message)).toString());\n    }\n}\n\nconst BufferParser: FetchParser<Buffer> = {\n    async parse(message: IncomingMessage) {\n        return readMessageBuffer(message);\n    }\n}\n\nconst StreamParser: FetchParser<IncomingMessage> = {\n    async parse(message: IncomingMessage) {\n        return message;\n    }\n}\n\nexport function getHttpFetchParser(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return JSONParser;\n        case 'text':\n            return TextParser;\n        case 'readable':\n            return StreamParser;\n    }\n    return BufferParser;\n}\n\nexport function httpFetchParseIncomingMessage(readable: IncomingMessage, responseType: HttpFetchResponseType | undefined) {\n    return getHttpFetchParser(responseType).parse(readable);\n}\n\nexport async function httpFetch<T extends HttpFetchOptions<Readable>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<Readable> ? Buffer\n    : T extends HttpFetchTextOptions<Readable> ? string\n    : T extends HttpFetchReadableOptions<Readable> ? IncomingMessage\n    : T extends HttpFetchJsonOptions<Readable> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    const { once } = require('events') as typeof events;\n    const { PassThrough, Readable } = require('stream') as typeof stream;\n    const { http, https } = require('follow-redirects') as typeof followRedirects;\n\n    const { url } = options;\n    const isSecure = url.toString().startsWith('https:');\n    const proto = isSecure ? https : http;\n\n    let { body } = options;\n    if (body && !(body instanceof Readable)) {\n        const newBody = new PassThrough();\n        newBody.write(Buffer.from(createStringOrBufferBody(headers, body)));\n        newBody.end();\n        body = newBody;\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    const signal = controller?.signal || options.signal;\n    signal?.addEventListener('abort', () => request.destroy(new Error(options.signal?.reason || 'abort')));\n\n    const nodeHeaders: Record<string, string[]> = {};\n    for (const [k, v] of headers) {\n        if (nodeHeaders[k]) {\n            nodeHeaders[k].push(v);\n        }\n        else {\n            nodeHeaders[k] = [v];\n        }\n    }\n\n    const request = proto.request(url, {\n        method: getFetchMethod(options),\n        rejectUnauthorized: options.rejectUnauthorized,\n        family: options.family,\n        headers: nodeHeaders,\n        signal,\n        timeout: options.timeout,\n    });\n\n    if (body)\n        body.pipe(request);\n    else\n        request.end();\n\n    try {\n        const [response] = await once(request, 'response') as [IncomingMessage];\n\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!response.statusCode || !checker(response.statusCode))\n                    throw new Error(`http response statusCode ${response.statusCode}`);\n            }\n            catch (e) {\n                readMessageBuffer(response).catch(() => { });\n                throw e;\n            }\n        }\n\n        const incomingHeaders = new Headers();\n        for (const [k, v] of Object.entries(response.headers)) {\n            for (const vv of (typeof v === 'string' ? [v] : v!)) {\n                incomingHeaders.append(k, vv)\n            }\n        }\n\n        return {\n            statusCode: response.statusCode!,\n            headers: incomingHeaders,\n            body: await httpFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n\n","export type HttpFetchResponseType = 'json' | 'text' | 'buffer' | 'readable';\nexport interface HttpFetchOptionsBase<B> {\n    url: string | URL;\n    family?: 4 | 6;\n    method?: string;\n    headers?: HeadersInit;\n    signal?: AbortSignal,\n    timeout?: number;\n    rejectUnauthorized?: boolean;\n    /**\n     * Checks the status code. Defaults to true.\n     */\n    checkStatusCode?: boolean | ((statusCode: number) => boolean);\n    body?: B | string | ArrayBufferView | any;\n    withCredentials?: boolean;\n}\n\nexport interface HttpFetchJsonOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'json';\n}\n\nexport interface HttpFetchBufferOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'buffer';\n}\n\nexport interface HttpFetchDefaultOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType?: undefined;\n}\n\nexport interface HttpFetchTextOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'text';\n}\nexport interface HttpFetchReadableOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'readable';\n}\n\nexport type HttpFetchOptions<B> = HttpFetchJsonOptions<B> | HttpFetchBufferOptions<B> | HttpFetchDefaultOptions<B> | HttpFetchTextOptions<B> | HttpFetchReadableOptions<B>;\n\nexport function fetchStatusCodeOk(statusCode: number) {\n    return statusCode >= 200 && statusCode <= 299;\n}\n\nexport function checkStatus(statusCode: number) {\n    if (!fetchStatusCodeOk(statusCode))\n        throw new Error(`http response statusCode ${statusCode}`);\n    return true;\n}\n\nexport function getFetchMethod(options: HttpFetchOptions<any>) {\n    const method = options.method || (options.body ? 'POST' : 'GET');\n    return method;\n}\n\nexport interface HttpFetchResponse<T> {\n    statusCode: number;\n    headers: Headers;\n    body: T;\n}\n\nexport type fetcher<B, M> = <T extends HttpFetchOptions<B>>(options: T) => Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<B> ? Buffer\n    : T extends HttpFetchTextOptions<B> ? string\n    : T extends HttpFetchReadableOptions<B> ? M\n    : T extends HttpFetchJsonOptions<B> ? any : Buffer\n>>;\n\n\nexport function getHttpFetchAccept(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return 'application/json';\n        case 'text':\n            return 'text/plain';\n    }\n    return;\n}\n\nexport function hasHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    return headers.find(([k]) => k.toLowerCase() === key);\n}\n\nexport function removeHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    const filteredHeaders = headers.filter(([headerKey, _]) => headerKey.toLowerCase() !== key);\n    headers.length = 0;\n    filteredHeaders.forEach(header => headers.push(header));\n}\n\nexport function setHeader(headers: [string, string][], key: string, value: string) {\n    removeHeader(headers, key);\n    headers.push([key, value]);\n}\n\nexport function setDefaultHttpFetchAccept(headers: [string, string][], responseType: HttpFetchResponseType | undefined) {\n    if (hasHeader(headers, 'Accept'))\n        return;\n    const accept = getHttpFetchAccept(responseType);\n    if (accept)\n        setHeader(headers, 'Accept', accept);\n}\n\nexport function createHeadersArray(headers: HeadersInit | undefined): [string, string][] {\n    const headersArray: [string, string][] = [];\n    if (!headers)\n        return headersArray;\n    if (headers instanceof Headers) {\n        for (const [k, v] of headers.entries()) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    if (headers instanceof Array) {\n        for (const [k, v] of headers) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    for (const k of Object.keys(headers)) {\n        const v = headers[k];\n        headersArray.push([k, v]);\n    }\n\n    return headersArray;\n}\n\n/**\n *\n * @param headers\n * @param body\n * @returns Returns the body and Content-Type header that was set.\n */\nexport function createStringOrBufferBody(headers: [string, string][], body: any) {\n    let contentType: string | undefined;\n    if (typeof body === 'object') {\n        body = JSON.stringify(body);\n        contentType = 'application/json';\n    }\n    else if (typeof body === 'string') {\n        contentType = 'text/plain';\n    }\n\n    if (contentType && !hasHeader(headers, 'Content-Type'))\n        setHeader(headers, 'Content-Type', contentType);\n\n    if (!hasHeader(headers, 'Content-Length')) {\n        body = Buffer.from(body);\n        setHeader(headers, 'Content-Length', body.length.toString());\n    }\n    return body;\n}\n\nexport async function domFetchParseIncomingMessage(response: Response, responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return response.json();\n        case 'text':\n            return response.text();\n        case 'readable':\n            return response;\n    }\n    return new Uint8Array(await response.arrayBuffer());\n}\n\nexport async function domFetch<T extends HttpFetchOptions<BodyInit>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<BodyInit> ? Buffer\n    : T extends HttpFetchTextOptions<BodyInit> ? string\n    : T extends HttpFetchReadableOptions<BodyInit> ? Response\n    : T extends HttpFetchJsonOptions<BodyInit> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    let { body } = options;\n    if (body && !(body instanceof ReadableStream)) {\n        body = createStringOrBufferBody(headers, body);\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    try {\n        const { url } = options;\n        const response = await fetch(url, {\n            method: getFetchMethod(options),\n            credentials: options.withCredentials ? 'include' : undefined,\n            headers,\n            signal: controller?.signal || options.signal,\n            body,\n        });\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!checker(response.status))\n                    throw new Error(`http response statusCode ${response.status}`);\n            }\n            catch (e) {\n                response.arrayBuffer().catch(() => { });\n                throw e;\n            }\n        }\n\n        return {\n            statusCode: response.status,\n            headers: response.headers,\n            body: await domFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","module.exports = require(\"assert\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"os\");","import os from 'os';\n/**\n * A YError class able to contain some params and\n *  print better stack traces\n * @extends Error\n */\nclass YError extends Error {\n    code;\n    params;\n    wrappedErrors;\n    constructor(wrappedErrors, errorCode, ...params) {\n        // Detecting if wrappedErrors are passed\n        if (!(wrappedErrors instanceof Array)) {\n            params = ('undefined' === typeof errorCode ? [] : [errorCode]).concat(params);\n            errorCode = wrappedErrors;\n            wrappedErrors = [];\n        }\n        // Call the parent constructor\n        super(errorCode);\n        // Filling error\n        this.code = errorCode || 'E_UNEXPECTED';\n        this.params = params;\n        this.wrappedErrors = wrappedErrors;\n        this.name = this.toString();\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n    /**\n     * Wraps any error and output a YError with an error\n     *  code and some params as debug values.\n     * @param {Error} err\n     * The error to wrap\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static wrap(err, errorCode, ...params) {\n        const wrappedErrorIsACode = _looksLikeAYErrorCode(err.message);\n        const wrappedErrors = ('wrappedErrors' in err ? err.wrappedErrors : []).concat(err);\n        if (!errorCode) {\n            if (wrappedErrorIsACode) {\n                errorCode = err.message;\n            }\n            else {\n                errorCode = 'E_UNEXPECTED';\n            }\n        }\n        if (err.message && !wrappedErrorIsACode) {\n            params.push(err.message);\n        }\n        return new YError(wrappedErrors, errorCode, ...params);\n    }\n    /**\n     * Return a YError as is or wraps any other error and output\n     *  a YError with a code and some params as debug values.\n     * @param {Error} err\n     * The error to cast\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static cast(err, errorCode, ...params) {\n        if (_looksLikeAYError(err)) {\n            return err;\n        }\n        return YError.wrap(err, errorCode, ...params);\n    }\n    /**\n     * Same than `YError.wrap()` but preserves the code\n     *  and the debug values of the error if it is\n     *  already an instance of the YError constructor.\n     * @param {Error} err\n     * The error to bump\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static bump(err, errorCode, ...params) {\n        if (_looksLikeAYError(err)) {\n            return YError.wrap(err, err.code, ...err.params);\n        }\n        return YError.wrap(err, errorCode, ...params);\n    }\n    toString() {\n        return ((this.wrappedErrors.length\n            ? // eslint-disable-next-line\n                this.wrappedErrors[this.wrappedErrors.length - 1].stack + os.EOL\n            : '') +\n            this.constructor.name +\n            ': ' +\n            this.code +\n            ' (' +\n            this.params.join(', ') +\n            ')');\n    }\n}\n/**\n * Allow to print a stack from anything (especially catched\n *  errors that may or may not contain errors ).\n * @param {Error} err\n * The error to print\n * @return {string}\n * The stack trace if any\n */\nexport function printStackTrace(err) {\n    return typeof err === 'object' && typeof err.stack === 'string'\n        ? err.stack\n        : `[no_stack_trace]: error is ${err != null && typeof err.toString === 'function'\n            ? err.toString()\n            : typeof err}`;\n}\n// In order to keep compatibility through major versions\n// we have to make kind of an cross major version instanceof\nfunction _looksLikeAYError(err) {\n    return (!!(err instanceof YError) ||\n        !!(err.constructor &&\n            err.constructor.name &&\n            err.constructor.name.endsWith('Error') &&\n            'code' in err &&\n            'string' === typeof err.code &&\n            _looksLikeAYErrorCode(err.code) &&\n            'params' in err &&\n            err.params &&\n            err.params instanceof Array));\n}\nfunction _looksLikeAYErrorCode(str) {\n    return /^([A-Z0-9_]+)$/.test(str);\n}\nexport { YError };\n//# sourceMappingURL=index.js.map","import { YError } from 'yerror';\nconst QUOTE = '\"';\nconst EQUAL = '=';\nconst SEPARATOR = ', ';\n/*\n * Regular expression for matching the key-value pairs\n * \\w+     = The key\n * =       = The equal sign\n * \".*?\"   = Value option 1: A double-quoted value (using the non-greedy *? to stop at the first doublequote)\n * [^\",]+  = Value option 2: A string without commas or double-quotes\n * (?=,|$) = Zero-width (as in not captured) positive lookahead assertion.\n *           The previous match will only be valid if it's followed by a \" literal\n *           or the end of the string\n */\nconst KEYVALUE_REGEXP = /\\w+=(\".*?\"|[^\",]+)(?=,|$)/g;\n// FIXME: Create a real parser\nexport function parseHTTPHeadersQuotedKeyValueSet(contents, authorizedKeys, requiredKeys = [], valuesToNormalize = []) {\n    const matches = contents.trim().match(KEYVALUE_REGEXP);\n    if (!matches)\n        throw new YError('E_MALFORMED_QUOTEDKEYVALUE', contents);\n    const data = matches\n        .map((part, partPosition) => {\n        const [key, ...rest] = part.split(EQUAL);\n        const value = rest.join(EQUAL);\n        if (0 === rest.length) {\n            throw new YError('E_MALFORMED_QUOTEDKEYVALUE', partPosition, part);\n        }\n        return [key, value];\n    })\n        .reduce(function (parsedValues, [name, value], valuePosition) {\n        const normalizedName = name.toLowerCase();\n        if (-1 === authorizedKeys.indexOf(normalizedName)) {\n            throw new YError('E_UNAUTHORIZED_KEY', valuePosition, normalizedName);\n        }\n        /*\n         * Regular expression for stripping paired starting and ending double quotes off the value:\n         * ^      = The beginning of the string\n         * \"      = The first double quote\n         * .+     = One or more characters of any kind\n         * (?=\"$) = Zero-width (as in not captured) positive lookahead assertion.\n         *          The previous match will only be valid if it's followed by a \" literal\n         *          or the end of the string\n         * \"      = The ending double quote\n         * $      = The end of the string\n         */\n        const strippedValue = value.replace(/^\"(.+(?=\"$))\"$/, '$1');\n        parsedValues[normalizedName] = valuesToNormalize.includes(normalizedName)\n            ? strippedValue.toLowerCase()\n            : strippedValue;\n        return parsedValues;\n    }, {});\n    _checkRequiredKeys(requiredKeys, data);\n    return data;\n}\nexport function buildHTTPHeadersQuotedKeyValueSet(data, authorizedKeys, requiredKeys = []) {\n    _checkRequiredKeys(requiredKeys, data);\n    return authorizedKeys.reduce(function (contents, key) {\n        if (data[key]) {\n            return (contents +\n                (contents ? SEPARATOR : '') +\n                key +\n                EQUAL +\n                QUOTE +\n                data[key] +\n                QUOTE);\n        }\n        return contents;\n    }, '');\n}\nfunction _checkRequiredKeys(requiredKeys, data) {\n    requiredKeys.forEach((name) => {\n        if ('undefined' === typeof data[name]) {\n            throw new YError('E_REQUIRED_KEY', name);\n        }\n    });\n}\n//# sourceMappingURL=utils.js.map","/**\n * @module http-auth-utils/mechanisms/basic\n */\nimport { YError } from 'yerror';\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = REQUIRED_WWW_AUTHENTICATE_KEYS;\n/* Architecture Note #1.2: Basic mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc7617).\n\n*/\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-2\n */\nconst BASIC = {\n    /**\n     * The Basic auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Basic',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.parseWWWAuthenticateRest('realm=\"perlinpinpin\"'), {\n     *     realm: 'perlinpinpin'\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from wich to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   BASIC.buildWWWAuthenticateRest({\n     *     realm: 'perlinpinpin'\n     *   }),\n     *   'realm=\"perlinpinpin\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.parseAuthorizationRest('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n     *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU=',\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        if (!rest) {\n            throw new YError('E_EMPTY_AUTH');\n        }\n        const { username, password } = BASIC.decodeHash(rest);\n        return {\n            hash: rest,\n            username,\n            password,\n        };\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} content The content from wich to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   BASIC.buildAuthorizationRest({\n     *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     *   }),\n     *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest({ hash, username, password, }) {\n        if (username && password) {\n            return BASIC.computeHash({\n                username,\n                password,\n            });\n        }\n        if (!hash) {\n            throw new YError('E_NO_HASH');\n        }\n        return hash;\n    },\n    /**\n     * Compute the Basic authentication hash from the given credentials.\n     * @param  {Object} credentials The credentials to encode {username, password}.\n     * @return {String}             The hash representing the credentials.\n     * @example\n     * assert.equal(\n     *   BASIC.computeHash({\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }),\n     *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     * );\n     * @api public\n     */\n    computeHash: function computeHash({ username, password, }) {\n        return Buffer.from(username + ':' + password).toString('base64');\n    },\n    /**\n     * Decode the Basic hash and return the corresponding credentials.\n     * @param  {String} hash The hash.\n     * @return {Object}      Object representing the credentials {username, password}.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.decodeHash('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }\n     * );\n     * @api public\n     */\n    decodeHash: function decodeHash(hash) {\n        const [username, ...passwordParts] = Buffer.from(hash, 'base64')\n            .toString()\n            .split(':');\n        return {\n            username,\n            password: passwordParts.join(':'),\n        };\n    },\n};\nexport default BASIC;\n//# sourceMappingURL=basic.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");","/**\n * @module http-auth-utils/mechanisms/digest\n */\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nimport crypto from 'crypto';\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm', 'nonce'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [\n    ...REQUIRED_WWW_AUTHENTICATE_KEYS,\n    'domain',\n    'opaque',\n    'stale',\n    'algorithm',\n    'qop',\n];\nconst CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES = ['stale'];\nconst REQUIRED_AUTHORIZATION_KEYS = [\n    'username',\n    'realm',\n    'nonce',\n    'uri',\n    'response',\n];\nconst AUTHORIZED_AUTHORIZATION_KEYS = [\n    ...REQUIRED_AUTHORIZATION_KEYS,\n    'algorithm',\n    'cnonce',\n    'opaque',\n    'qop',\n    'nc',\n];\n/* Architecture Note #1.3: Digest mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc2617).\n\n*/\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-3\n * @see http://tools.ietf.org/html/rfc2069#section-2\n */\nconst DIGEST = {\n    /**\n     * The Digest auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Digest',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   DIGEST.parseWWWAuthenticateRest(\n     *     'realm=\"testrealm@host.com\", ' +\n     *     'qop=\"auth, auth-int\", ' +\n     *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     *   ), {\n     *     realm: 'testrealm@host.com',\n     *     qop: 'auth, auth-int',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS, CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from which to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   DIGEST.buildWWWAuthenticateRest({\n     *     realm: 'testrealm@host.com',\n     *     qop: 'auth, auth-int',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n     *   }),\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'qop=\"auth, auth-int\", ' +\n     *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   DIGEST.parseAuthorizationRest(\n     *     'username=\"Mufasa\",' +\n     *     'realm=\"testrealm@host.com\",' +\n     *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\",' +\n     *     'uri=\"/dir/index.html\",' +\n     *     'qop=\"auth\",' +\n     *     'nc=\"00000001\",' +\n     *     'cnonce=\"0a4f113b\",' +\n     *     'response=\"6629fae49393a05397450978507c4ef1\",' +\n     *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     *   ), {\n     *     username: \"Mufasa\",\n     *     realm: 'testrealm@host.com',\n     *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n     *     uri: \"/dir/index.html\",\n     *     qop: 'auth',\n     *     nc: '00000001',\n     *     cnonce: \"0a4f113b\",\n     *     response: \"6629fae49393a05397450978507c4ef1\",\n     *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} data The content from which to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   DIGEST.buildAuthorizationRest({\n     *     username: \"Mufasa\",\n     *     realm: 'testrealm@host.com',\n     *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n     *     uri: \"/dir/index.html\",\n     *     qop: 'auth',\n     *     nc: '00000001',\n     *     cnonce: \"0a4f113b\",\n     *     response: \"6629fae49393a05397450978507c4ef1\",\n     *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n     *   }),\n     *   'username=\"Mufasa\", ' +\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *   'uri=\"/dir/index.html\", ' +\n     *   'response=\"6629fae49393a05397450978507c4ef1\", ' +\n     *   'cnonce=\"0a4f113b\", ' +\n     *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\", ' +\n     *   'qop=\"auth\", ' +\n     *   'nc=\"00000001\"'\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n    },\n    /**\n     * Compute the Digest authentication hash from the given credentials.\n     * @param  {Object} data The credentials to encode and other encoding details.\n     * @return {String}             The hash representing the credentials.\n     * @example\n     * assert.equal(\n     *   DIGEST.computeHash({\n     *     username: 'Mufasa',\n     *     realm: 'testrealm@host.com',\n     *     password: 'Circle Of Life',\n     *     method: 'GET',\n     *     uri: '/dir/index.html',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     nc: '00000001',\n     *     cnonce: '0a4f113b',\n     *     qop: 'auth',\n     *     algorithm: 'md5'\n     *   }),\n     *   '6629fae49393a05397450978507c4ef1'\n     * );\n     * @api public\n     */\n    computeHash: function computeHash(data) {\n        const ha1 = data.ha1 ||\n            _computeHash(data.algorithm, [data.username, data.realm, data.password].join(':'));\n        const ha2 = _computeHash(data.algorithm, [data.method, data.uri].join(':'));\n        return _computeHash(data.algorithm, [ha1, data.nonce, data.nc, data.cnonce, data.qop, ha2].join(':'));\n    },\n};\nfunction _computeHash(algorithm, str) {\n    const hashsum = crypto.createHash(algorithm);\n    hashsum.update(str);\n    return hashsum.digest('hex');\n}\nexport default DIGEST;\n//# sourceMappingURL=digest.js.map","/**\n * @module http-auth-utils/mechanisms/bearer\n */\nimport { YError } from 'yerror';\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nconst AUTHORIZED_ERROR_CODES = [\n    'invalid_request',\n    'invalid_token',\n    'insufficient_scope',\n];\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [\n    ...REQUIRED_WWW_AUTHENTICATE_KEYS,\n    'scope',\n    'error',\n    'error_description',\n];\n/* Architecture Note #1.1: Bearer mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc6750).\n\n*/\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see https://tools.ietf.org/html/rfc6750#section-3\n */\nconst BEARER = {\n    /**\n     * The Bearer auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Bearer',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   BEARER.parseWWWAuthenticateRest(\n     *     'realm=\"testrealm@host.com\", ' +\n     *     'scope=\"openid profile email\"'\n     *   ), {\n     *     realm: 'testrealm@host.com',\n     *     scope: 'openid profile email',\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from wich to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   BEARER.buildWWWAuthenticateRest({\n     *     realm: 'testrealm@host.com',\n     *     error: 'invalid_request',\n     *     error_description: 'The access token expired',\n     *   }),\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'error=\"invalid_request\", ' +\n     *   'error_description=\"The access token expired\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        if (data.error &&\n            -1 ===\n                AUTHORIZED_ERROR_CODES.indexOf(data.error)) {\n            throw new YError('E_INVALID_ERROR', data.error, AUTHORIZED_ERROR_CODES);\n        }\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   BEARER.parseAuthorizationRest('mF_9.B5f-4.1JqM'), {\n     *     hash: 'mF_9.B5f-4.1JqM',\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        if (!rest) {\n            throw new YError('E_EMPTY_AUTH');\n        }\n        return {\n            hash: rest,\n        };\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} content The content from wich to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   BEARER.buildAuthorizationRest({\n     *     hash: 'mF_9.B5f-4.1JqM'\n     *   }),\n     *   'mF_9.B5f-4.1JqM=='\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest({ hash, }) {\n        if (!hash) {\n            throw new YError('E_NO_HASH');\n        }\n        return hash;\n    },\n};\nexport default BEARER;\n//# sourceMappingURL=bearer.js.map","import { YError } from 'yerror';\nimport BASIC from './mechanisms/basic.js';\nimport DIGEST from './mechanisms/digest.js';\nimport BEARER from './mechanisms/bearer.js';\n/**\n * @module http-auth-utils\n */\n/**\n * Natively supported authentication mechanisms.\n * @type {Array}\n */\nconst mechanisms = [BASIC, DIGEST, BEARER];\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/basic}\n */\nBASIC;\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\nDIGEST;\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\nBEARER;\nexport { BASIC, DIGEST, BEARER, mechanisms };\n/**\n * Parse HTTP WWW-Authenticate header contents.\n * @type {Function}\n * @param {string} header\n * The WWW-Authenticate header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow providing custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseWWWAuthenticateHeader('Basic realm=\"test\"'), {\n *     type: 'Basic',\n *     data: {\n *       realm: 'test'\n *     }\n *   }\n * );\n */\nexport function parseWWWAuthenticateHeader(header, authMechanisms = mechanisms, { strict = true } = { strict: true }) {\n    let result = null;\n    authMechanisms.some((authMechanism) => {\n        if (0 === header.indexOf(authMechanism.type + ' ') ||\n            (!strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' '))) {\n            result = {\n                type: authMechanism.type,\n                data: authMechanism.parseWWWAuthenticateRest(header.substr(authMechanism.type.length + 1)),\n            };\n            return true;\n        }\n        return false;\n    });\n    if (!result) {\n        throw new YError('E_UNKNOWN_AUTH_MECHANISM', header);\n    }\n    return result;\n}\n/**\n * Parse HTTP Authorization header contents.\n * @type {Function}\n * @param {string} header The Authorization header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseAuthorizationHeader('Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='), {\n *     type: 'Basic',\n *     data: {\n *       hash: 'QWxhZGRpbjpvcGVuIHNlc2FtZQ=='\n *     }\n *   }\n * );\n */\nexport function parseAuthorizationHeader(header, authMechanisms = mechanisms, { strict = true } = { strict: true }) {\n    let result = null;\n    authMechanisms.some(function (authMechanism) {\n        if (0 === header.indexOf(authMechanism.type + ' ') ||\n            (!strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' '))) {\n            result = {\n                type: authMechanism.type,\n                data: authMechanism.parseAuthorizationRest(header.substr(authMechanism.type.length + 1)),\n            };\n            return true;\n        }\n        return false;\n    });\n    if (result) {\n        return result;\n    }\n    throw new YError('E_UNKNOWN_AUTH_MECHANISM', header);\n}\n/**\n * Build HTTP WWW-Authenticate header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The WWW-Authenticate header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildWWWAuthenticateHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\nexport function buildWWWAuthenticateHeader(authMechanism, data) {\n    return `${authMechanism.type} ${authMechanism.buildWWWAuthenticateRest(data)}`;\n}\n/**\n * Build HTTP Authorization header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The Authorization header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildAuthorizationHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\nexport function buildAuthorizationHeader(authMechanism, data) {\n    return `${authMechanism.type} ${authMechanism.buildAuthorizationRest(data)}`;\n}\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7927);\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","sdk","MixinDeviceBase","ScryptedDeviceBase","index_1","module_1","DeviceBase","constructor","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","console","_console","getDeviceConsole","createMediaObject","data","mimeType","mediaManager","sourceId","id","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","options","_listeners","Set","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","l","removeListener","_createGetState","state","_createSetState","warn","field","values","ScryptedInterfaceProperty","set","loaded","process","env","SCRYPTED_SDK_MODULE","sdkModule","createRequire","require","assign","getScryptedStatic","e","runtimeAPI","pluginRuntimeAPI","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","error","__setModuleDefault","v","__importStar","mod","result","SettingsMixinDeviceBase","_1","default","settingsGroup","group","settingsGroupKey","groupKey","nextTick","ScryptedInterface","Settings","getSettings","settingsPromise","includes","mixinSettingsPromise","getMixinSettings","allSettings","settings","push","name","description","key","Math","random","toString","title","readonly","mixinSettings","setting","putSetting","prefix","startsWith","putMixinSetting","substring","length","StorageSettings","device","hasValue","keys","rawGet","getItem","type","JSON","parse","ret","onGet","entries","s","hide","getItemInternal","onPut","mapPut","mapGet","oldValue","putSettingInternal","noStore","removeItem","setItem","stringify","rawDevice","readDefaultValue","multiple","n","parseFloat","isNaN","parseInt","json","parseValue","persistedDefaultValue","defaultValue","ScryptedMimeTypes","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","DataView","getNative","module","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","index","clear","entry","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Promise","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","size","Symbol","Uint8Array","WeakMap","array","setter","iteratee","accumulator","predicate","resIndex","baseTimes","isArguments","isArray","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","Array","offset","eq","baseEach","collection","object","baseForOwn","createBaseEach","baseFor","createBaseFor","castPath","toKey","path","arrayPush","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","other","bitmask","customizer","stack","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","source","matchData","noCustomizer","objValue","srcValue","COMPARE_PARTIAL_FLAG","isFunction","isMasked","isObject","toSource","reIsHostCtor","funcProto","Function","objectProto","funcToString","reIsNative","RegExp","replace","test","isLength","typedArrayTags","baseMatches","baseMatchesProperty","identity","property","isPrototype","nativeKeys","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseGet","arrayMap","isSymbol","symbolProto","symbolToString","baseToString","func","cache","stringToPath","coreJsData","arrayAggregator","baseAggregator","baseIteratee","initializer","isArrayLike","eachFunc","fromRight","iterable","props","arraySome","cacheHas","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolValueOf","valueOf","tag","byteLength","byteOffset","buffer","message","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","freeGlobal","global","baseGetAllKeys","getSymbols","isKeyable","map","baseIsNative","getValue","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","Ctor","ctorString","hasFunc","nativeCreate","reIsUint","reIsDeepProp","reIsPlainProp","uid","maskSrcKey","exec","IE_PROTO","assocIndexOf","splice","pop","getMapData","forEach","memoize","overArg","freeExports","nodeType","freeModule","freeProcess","nodeUtil","types","binding","transform","arg","freeSelf","self","root","pairs","LARGE_ARRAY_SIZE","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","match","number","quote","subString","baseHasIn","hasPath","baseIsArguments","arguments","stubFalse","Buffer","baseIsTypedArray","baseUnary","nodeIsTypedArray","baseAssignValue","keyBy","createAggregator","arrayLikeKeys","baseKeys","resolver","TypeError","memoized","args","apply","Cache","baseProperty","basePropertyDeep","DetectionClass","classnamePrio","Face","Plate","Person","Vehicle","Animal","Package","Motion","defaultDetectionClasses","animalClasses","personClasses","vehicleClasses","faceClasses","licensePlateClasses","motionClasses","packageClasses","isFaceClassname","classname","isPlateClassname","isAnimalClassname","isPersonClassname","isVehicleClassname","isMotionClassname","isPackageClassname","isLabelDetection","detectionClassesDefaultMap","reduce","tot","curr","parentDetectionClassMap","detectionClassIndex","detectionClassIndexReversed","detectionClass","defaultClasses","getMainDetectionClass","detectionClasses","cleanupMemoryThresholderInGb","clipsToCleanup","videoClipRegex","attachProcessEvents","processName","childProcess","onClose","logger","stdout","on","debug","stderr","async","getVideoClipName","startTime","classesDetected","endTime","detectionsHashComponents","fill","detectionsHash","join","filename","allClasses","calculateSize","currentPath","filenamePrefix","maxSpaceInGb","occupiedSizeInBytes","calculateSizeInner","innerPath","promises","readdir","withFileTypes","filteredFiles","filter","fullPath","isDirectory","isFile","stats","stat","occupiedSpaceInGbNumber","occupiedSpaceInGb","toFixed","freeMemory","videoclippathRegex","ReolinkVideoclipssMixin","plugin","ftpScanData","storageSettings","username","password","immediate","ftp","checkFtpScan","ftpFolder","_","newValue","scanFs","range","placeholder","getLogger","mixinsMap","deviceConsole","optionalParams","now","Date","toLocaleString","killed","startFtpScan","stopFtpScan","ftpScanTimeout","clearInterval","searchFile","dir","currentResult","files","file","endsWith","fileStat","statSync","timestamp","split","regexResult","__","___","year","mon","day","hour","min","sec","time","Number","setInterval","lastScanFs","newMaxMemory","maxSpaceInGbSrc","getDeviceProperties","deviceSettings","deviceSettingsMap","host","channel","getClient","client","usernameParent","passwordParent","ReolinkCameraClient","getVideoclipWebhookUrls","videoclipPath","cloudEndpoint","getCloudEndpoint","public","endpoint","parameters","params","deviceId","videoclipUrl","thumbnailUrl","processDate","date","timeDate","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds","getTime","getVideoClips","streamType","videoclips","item","event","videoId","thumbnailId","resources","thumbnail","href","video","api","dateRanges","splitDateRangeByDay","allSearchedElements","dateRange","response","start","end","token","searchElement","StartTime","durationInMs","EndTime","parseVideoclipName","duration","round","getVideoclipParams","videoclipId","thumbnailFolder","getFolderPaths","downloadFolder","playbackPathWithHost","getVideoClipUrl","getVideoClip","getVideoClipThumbnail","thumbnailMo","getThumbnailMediaObject","removeVideoClips","videoClipIds","Error","channelId","forceToken","loggingIn","createReadable","pt","PassThrough","write","from","credential","refreshTokenInterval","refreshSession","logout","login","request","body","authHttpFetch","rejectUnauthorized","url","URL","searchParams","requestWithLogin","responseType","tokenLease","leaseTimeSeconds","getLoginParameters","getDate","cmd","action","param","Search","onlyStatus","getFullYear","getMonth","getHours","getMinutes","getSeconds","method","SearchResult","File","fileNameWithExtension","fileName","shift","sanitizedPath","replaceAll","downloadPath","playbackPath","downloadPathWithHost","jpegSnapshot","timeout","getBatteryInfo","find","elem","batteryInfoEntry","Battery","channelStatusEntry","status","chStatus","batteryPercent","sleep","ReolinkVideoclipssProvider","clearDownloadedData","cleanup","onRequest","____","_____","webhook","pathname","dev","devConsole","fileSize","headers","parts","chunksize","createReadStream","sendVideo","reject","sendStream","chunk","code","err","sendFile","httpResponse","statusCode","statusMessage","jpeg","convertMediaObjectToBuffer","send","canMixin","interfaces","Camera","VideoCamera","some","int","VideoClips","getMixin","releaseMixin","overridePath","basePath","SCRYPTED_PLUGIN_VOLUME","existsSync","mkdirSync","recursive","rmSync","force","filenameSrc","outputThumbnailFile","mo","createFFmpegMediaObject","inputArguments","writeFile","fileURLToPath","pathToFileURL","createMediaObjectFromUrl","findStartTimeFromFileName","regex","groups","lastIndex","groupIndex","FLAGS_CAM_V2","resolution_index","tv_system","framerate","audio_index","ai_pd","ai_fd","ai_vd","ai_ad","encoder_type_index","is_schedule_record","is_motion_record","is_rf_record","is_doorbell_record","ai_other","FLAGS_HUB_V0","FLAGS_MAPPING","filenameWithExtension","hexValue","sizeHex","version","devType","hexInt","hexIntReversed","padStart","reverse","flagValues","flagsMapping","flag","bitPosition","bitSize","flagValue","ranges","currentStart","endOfDay","currentEnd","createAuthFetch","httpFetch","httpFetchParseIncomingMessage","h","parser","getFetchMethod","createHeadersArray","setDefaultHttpFetchAccept","initialHeader","getAuth","hasHeader","setHeader","controller","AbortController","signal","addEventListener","abort","reason","initialResponse","checkStatusCode","checkStatus","authenticateHeaders","BASIC","DIGEST","parseWWWAuthenticateHeader","parsedHeaders","digest","basic","header","count","nc","slice","cnonce","floor","uri","buildAuthorizationHeader","computeHash","algorithm","qop","getDeviceInfoInternal","DevInfo","model","exactType","user","Infinity","User","userName","Token","leaseTime","reolinkHttpsAgent","Agent","once","Readable","http","https","proto","newBody","createStringOrBufferBody","setTimeout","destroy","nodeHeaders","family","pipe","checker","readMessageBuffer","incomingHeaders","Headers","vv","append","clearTimeout","buffers","concat","TextParser","JSONParser","BufferParser","StreamParser","getHttpFetchParser","readable","fetchStatusCodeOk","getHttpFetchAccept","toLowerCase","removeHeader","filteredHeaders","headerKey","accept","headersArray","contentType","domFetchParseIncomingMessage","text","arrayBuffer","ReadableStream","fetch","credentials","withCredentials","formatArgs","useColors","namespace","humanize","diff","c","color","lastC","save","namespaces","load","r","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","warned","colors","formatters","j","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","ms","prev","coerce","unshift","format","formatter","val","selectColor","extend","init","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","i","len","hash","abs","browser","tty","util","inspectOpts","colorCode","hideDate","toISOString","Boolean","isatty","fd","deprecate","supportsColor","level","obj","prop","toUpperCase","inspect","str","trim","O","looksLikeNode","looksLikeBrowser","looksLikeV8","Writable","assert","captureStackTrace","useNativeURL","preservedUrlFields","events","eventHandlers","arg1","arg2","arg3","_redirectable","emit","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","cause","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","protocol","nativeProtocol","wrappedProtocol","defineProperties","input","callback","spreadUrlObject","isString","parseUrl","validateUrl","hostname","equal","wrappedRequest","parsed","urlObject","target","spread","port","search","removeMatchingHeaders","lastValue","baseClass","CustomError","properties","destroyRequest","_currentRequest","encoding","currentRequest","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimer","a","b","searchPos","indexOf","agents","agent","_currentUrl","_isRedirect","writeNext","finished","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","req","getHeader","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","isSubdomain","responseDetails","requestDetails","d","w","y","plural","msAbs","isPlural","isFinite","long","fmtLong","fmtShort","wrappedErrors","errorCode","wrappedErrorIsACode","_looksLikeAYErrorCode","cast","_looksLikeAYError","bump","KEYVALUE_REGEXP","parseHTTPHeadersQuotedKeyValueSet","contents","authorizedKeys","requiredKeys","valuesToNormalize","matches","part","partPosition","rest","parsedValues","valuePosition","normalizedName","strippedValue","_checkRequiredKeys","buildHTTPHeadersQuotedKeyValueSet","REQUIRED_WWW_AUTHENTICATE_KEYS","AUTHORIZED_WWW_AUTHENTICATE_KEYS","parseWWWAuthenticateRest","buildWWWAuthenticateRest","parseAuthorizationRest","decodeHash","buildAuthorizationRest","passwordParts","CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES","REQUIRED_AUTHORIZATION_KEYS","AUTHORIZED_AUTHORIZATION_KEYS","ha1","_computeHash","realm","ha2","nonce","hashsum","update","AUTHORIZED_ERROR_CODES","BEARER","mechanisms","authMechanisms","strict","authMechanism","substr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","nmd","paths","children","__webpack_exports__"],"sourceRoot":""}